(()=>{"use strict";class t{constructor(){this.board=[],this.createBoard(),this.hits=[],this.misses=[],this.placedShips=[],this.gameOver=!1}createBoard(){let t=0;for(let e=0;e<10;e++){this.board[e]=[];for(let s=0;s<10;s++)t++,this.board[e][s]=t}}placeShip(t,e,s){if(s&&this.validPlacement(e,t.length,!0)){for(let s=0;s<t.length;s++){for(let s=0;s<this.board.length;s++)if(this.board[s].includes(e)){let i=this.board[s].indexOf(e);this.board[s][i]=t.name}e+=10}this.placedShips.push(t)}else if(!s&&this.validPlacement(e,t.length,!1)){for(let s=0;s<t.length;s++){for(let s=0;s<this.board.length;s++)if(this.board[s].includes(e)){let i=this.board[s].indexOf(e);this.board[s][i]=t.name}e+=1}this.placedShips.push(t)}}recieveAttack(t){let e,s,i=t.toString();t<11?(e=t-1,s=0):(s=parseInt(i.slice(0,1)),e=parseInt(i.slice(1,2))-1),Number.isInteger(this.board[s][e])?this.misses.push(t):(this.hits.push(t),this.placedShips.forEach((i=>{if(i.name===this.board[s][e])return i.hit(t),void i.isSunk()})))}isOver(){for(let t=0;t<this.placedShips.length;t++)if(this.placedShips[t].sunk=!1)return!1;return!0}validPlacement(t,e,s){let i,n,a=t.toString();return t<11?(i=t-1,n=0):(n=parseInt(a.slice(0,1)),i=parseInt(a.slice(1,2))-1),!!(s&&n+e-1<10)||!s&&i+e-1<10}randomlyPlaceShips(t){let e=!1;for(;!e;){let s,i=Math.floor(100*Math.random())+1;if(s=Math.random()<.5,this.validPlacement(i,t.length,s))return this.placeShip(t,i,s),void(e=!0)}}}class e{constructor(e,s){this.gameboard=new t,this.name=e,this.shots=[],this.oponent=s}attack(t,e){this.shots.includes(t)||(this.shots.push(t),e.gameboard.recieveAttack(t),e.gameboard.isOver())}randomAttack(t){let e,s=!1;for(;!s;)e=Math.floor(100*Math.random())+1,this.shots.includes(e)||(console.log(e),this.shots.push(e),t.gameboard.recieveAttack(e),s=!0)}}function s(t){document.querySelector("body");const s=document.querySelector(".grid-container1");document.querySelector(".title-1").textContent=t;const i=document.querySelector(".grid-container2");document.querySelector(".title-2").textContent="Computer";let n=new e("human","computer"),a=(new e("computer","human"),n.gameboard.board);for(let t=0;t<a.length;t++)for(let e=0;e<a[t].length;e++){const i=document.createElement("div");i.setAttribute("position",a[t][e]),i.classList.add("grid-item"),null==s||s.appendChild(i)}for(let t=0;t<a.length;t++)for(let e=0;e<a[t].length;e++){const s=document.createElement("div");s.setAttribute("position",a[t][e]),s.classList.add("grid-item"),s.classList.add("ai-grid"),s.addEventListener("click",(function(){s.classList.add("miss")})),null==i||i.appendChild(s)}}!function(){const t=document.querySelector(".info"),e=document.createElement("div");e.classList.add("input-container");const i=document.createElement("label");i.textContent="Enter Name:";const n=document.createElement("input");n.classList.add("name-input");const a=document.createElement("button");a.classList.add("start-button"),a.textContent="Start",e.appendChild(i),e.appendChild(n),e.appendChild(a),null==t||t.appendChild(e),a.addEventListener("click",(function(){if(""!==n.value){const i=n.value;null==t||t.removeChild(e),s(i)}else{const i="To lazy to enter a name";null==t||t.removeChild(e),s(i)}}))}()})();