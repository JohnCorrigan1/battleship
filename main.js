(()=>{"use strict";class e{constructor(){this.board=[],this.createBoard(),this.hits=[],this.misses=[],this.placedShips=[],this.gameOver=!1,this.sunkShips=[]}createBoard(){let e=0;for(let t=0;t<10;t++){this.board[t]=[];for(let s=0;s<10;s++)e++,this.board[t][s]=e}}placeShip(e,t,s){if(s&&!0===this.validPlacement(t,e.length,!0)){for(let s=0;s<e.length;s++){for(let s=0;s<this.board.length;s++)if(this.board[s].includes(t)){let i=this.board[s].indexOf(t);this.board[s][i]=e.name}t+=10}this.placedShips.push(e)}else if(!s&&!0===this.validPlacement(t,e.length,!1)){for(let s=0;s<e.length;s++){for(let s=0;s<this.board.length;s++)if(this.board[s].includes(t)){let i=this.board[s].indexOf(t);this.board[s][i]=e.name}t+=1}this.placedShips.push(e)}}recieveAttack(e,t){let s=e+t;Number.isInteger(this.board[e][t])?this.misses.push(s):(this.hits.push(s),this.placedShips.forEach((i=>{if(i.name===this.board[e][t])return i.hit(s),i.isSunk(),void(i.isSunk()&&this.sunkShips.push(i))})))}isOver(){return 4===this.sunkShips.length}validPlacement(e,t,s){let i=this.convertPosition(e),a=this.getRow(i),n=this.getCol(i);if(s&&a+t>10)return!1;if(!s&&n+t>10)return!1;if(s)for(let e=0;e<t;e++){if(!Number.isInteger(this.board[a][n]))return!1;a++}else for(let e=0;e<t;e++){if(!Number.isInteger(this.board[a][n]))return!1;n++}return!0}randomlyPlaceShips(e){let t,s,i=!1;for(;!i;)t=Math.floor(100*Math.random())+1,s=Math.random()<.5,this.validPlacement(t,e.length,s)?(i=!0,this.placeShip(e,t,s)):i=!1}convertPosition(e){let t,s,i=e.toString();return e<11?(t=e-1,s=0):100===e?(s=9,t=9):e%10==0?(s=parseInt(i.slice(0,1)),t=9):(s=parseInt(i.slice(0,1)),t=parseInt(i.slice(1,2))-1),s.toString()+t.toString()}getCol(e){return parseInt(e.slice(1,2))}getRow(e){return parseInt(e.slice(0,1))}}class t{constructor(t,s){this.gameboard=new e,this.name=t,this.shots=[],this.oponent=s}attack(e,t){let s=this.gameboard.convertPosition(e),i=this.gameboard.getRow(s),a=this.gameboard.getCol(s);this.shots.includes(e)||(this.shots.push(e),t.gameboard.recieveAttack(i,a),t.gameboard.isOver())}randomAttack(e){let t,s=!1;for(;!s;){t=Math.floor(100*Math.random())+1;let i=this.gameboard.convertPosition(t),a=this.gameboard.getRow(i),n=this.gameboard.getCol(i);if(!this.shots.includes(t))return this.shots.push(t),e.gameboard.recieveAttack(a,n),s=!0,t}}}class s{constructor(e,t){this.length=e,this.isHit=[],this.sunk=!1,this.name=t}hit(e){if(!this.isHit.includes(e)&&this.isHit.length<this.length)return this.isHit.push(e),this.isHit}isSunk(){return this.isHit.length===this.length&&(this.sunk=!0,!0)}}let i=new t("human","computer"),a=new t("computer","human"),n=i.gameboard.board,r=a.gameboard.board,l=new s(5,"carrier"),o=new s(4,"destroyer"),d=new s(3,"submarine"),c=new s(2,"patrol"),u=new s(5,"carrier"),h=new s(4,"destroyer"),m=new s(3,"submarine"),g=new s(2,"patrol");const p=[l,o,d,c],b=[u,h,m,g];let v=0;const f=[];function L(e){let t;v++;const s=document.querySelector(".info");null==s||s.classList.remove("info"),null==s||s.classList.add("hide");const u=document.querySelector(".place");null==u||u.classList.remove("hide");const h=document.querySelector(".grid-container"),m=document.querySelector(".ships"),g=document.querySelector(".rotate"),S=document.querySelector(".carrier"),C=document.querySelector(".destroyer"),y=document.querySelector(".submarine"),E=document.querySelector(".patrol");if(1===v){null==g||g.addEventListener("click",(function(){(null==S?void 0:S.classList.contains("rotated"))?(null==m||m.classList.remove("ships-horizontal"),null==m||m.classList.add("ships-vertical"),S.classList.remove("rotated"),null==C||C.classList.remove("rotated"),null==y||y.classList.remove("rotated"),null==E||E.classList.remove("rotated")):(null==m||m.classList.remove("ships-vertical"),null==m||m.classList.add("ships-horizontal"),null==S||S.classList.add("rotated"),null==C||C.classList.add("rotated"),null==y||y.classList.add("rotated"),null==E||E.classList.add("rotated"))}));const t=document.querySelector(".start-game");null==t||t.addEventListener("click",(function(){4===f.length&&(u.innerHTML="",function(e){const t=document.querySelector(".place");null==t||t.classList.add("hide");const s=document.querySelector("#main");s.classList.remove("hide"),s.classList.add("main");const l=document.querySelector(".grid-container1");document.querySelector(".title-1").textContent=e;const o=document.querySelector(".sunken1"),d=document.querySelector(".grid-container2");document.querySelector(".title-2").textContent="Computer";const c=document.querySelector(".sunken2"),u=document.querySelector(".who-won"),h=document.createElement("button");h.classList.add("restart"),h.textContent="Restart",h.addEventListener("click",(function(){location.reload()})),b.forEach((e=>{a.gameboard.randomlyPlaceShips(e)}));let m=0;for(let e=0;e<n.length;e++)for(let t=0;t<n[e].length;t++){m++;const s=document.createElement("div");s.setAttribute("hposition",m),Number.isInteger(n[e][t])||s.classList.add("ship-here"),s.classList.add("grid-item"),null==l||l.appendChild(s)}for(let t=0;t<r.length;t++)for(let s=0;s<r[t].length;s++){const l=document.createElement("div");l.setAttribute("cposition",r[t][s]),l.classList.add("grid-item"),l.classList.add("ai-grid"),l.addEventListener("click",(function(){if(l.classList.contains("hit")||l.classList.contains("miss")||i.gameboard.isOver()||a.gameboard.isOver())return;if(Number.isInteger(r[t][s]))l.classList.add("miss"),l.textContent="X";else{l.classList.add("hit");let i=!1;if(a.gameboard.recieveAttack(t,s),a.gameboard.placedShips.forEach((e=>{e.name===r[t][s]&&(i=e.sunk)})),i){const i=document.createElement("h2");if(i.textContent=r[t][s],null==c||c.appendChild(i),a.gameboard.isOver()){const t=document.createElement("h1");t.textContent="Winner: "+e+"!",null==u||u.appendChild(t),null==u||u.appendChild(h)}}}let d;d=a.randomAttack(i);const m=document.querySelector(`[hposition="${d}"]`);let g=d,p=i.gameboard.convertPosition(g),b=i.gameboard.getRow(p),v=i.gameboard.getCol(p);if(Number.isInteger(i.gameboard.board[b][v]))null==m||m.classList.add("miss"),m.textContent="X";else{null==m||m.classList.remove("ship-here"),null==m||m.classList.add("hit");let e=!1;if(i.gameboard.recieveAttack(t,s),i.gameboard.placedShips.forEach((t=>{t.name===n[b][v]&&(e=t.sunk)})),e){const e=document.createElement("h2");if(e.textContent=n[b][v],null==o||o.appendChild(e),i.gameboard.isOver()){const e=document.createElement("h1");e.textContent="Winner: Computer!",null==u||u.appendChild(e),null==u||u.appendChild(h)}}}})),null==d||d.appendChild(l)}}(e))}))}q();const k=document.querySelector(".randomly-place");function q(){let e=0;h.innerHTML="";for(let t=0;t<n.length;t++)for(let s=0;s<n[t].length;s++){e++;const i=document.createElement("div");i.setAttribute("data-hposition",e),Number.isInteger(n[t][s])||i.classList.add("ship-here"),i.classList.add("grid-item"),null==h||h.appendChild(i)}}null==k||k.addEventListener("click",(function(){p.forEach((e=>{i.gameboard.randomlyPlaceShips(e)})),k.disabled=!0,h.innerHTML="",q()})),document.querySelectorAll(".draggable").forEach((s=>{s.addEventListener("dragstart",(()=>{s.classList.add("dragging")})),s.addEventListener("dragend",(s=>{const a=s.target,n=parseInt(t.dataset.hposition);!function(e,t){if(!1===k.disabled&&(k.disabled=!0),"carrier"===e)if(S.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,5,!1))return void S.classList.remove("dragging");i.gameboard.placeShip(l,t,!1),null==m||m.removeChild(S),f.push(e)}else i.gameboard.validPlacement(t,5,!0)?(i.gameboard.placeShip(l,t,!0),null==m||m.removeChild(S),f.push(e)):S.classList.remove("dragging");if("destroyer"===e)if(C.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,4,!1))return void C.classList.remove("dragging");i.gameboard.placeShip(o,t,!1),null==m||m.removeChild(C),f.push(e)}else i.gameboard.validPlacement(t,4,!0)?(i.gameboard.placeShip(o,t,!0),null==m||m.removeChild(C),f.push(e)):C.classList.remove("dragging");if("submarine"===e)if(y.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,3,!1))return void y.classList.remove("dragging");i.gameboard.placeShip(d,t,!1),null==m||m.removeChild(y),f.push(e)}else i.gameboard.validPlacement(t,3,!0)?(i.gameboard.placeShip(d,t,!0),null==m||m.removeChild(y),f.push(e)):y.classList.remove("dragging");if("patrol"===e)if(E.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,2,!1))return void E.classList.remove("dragging");i.gameboard.placeShip(c,t,!1),null==m||m.removeChild(E),f.push(e)}else i.gameboard.validPlacement(t,2,!0)?(i.gameboard.placeShip(c,t,!0),null==m||m.removeChild(E),f.push(e)):E.classList.remove("dragging")}(a.id,n),L(e)}))})),document.querySelectorAll(".grid-item").forEach((e=>{e.addEventListener("dragover",(e=>{t=e.target}))}))}!function(){const e=document.querySelector(".info"),t=document.createElement("div");t.classList.add("input-container");const s=document.createElement("label");s.classList.add("name-label"),s.textContent="Enter Name:";const i=document.createElement("input");i.classList.add("name-input");const a=document.createElement("button");a.classList.add("start-button"),a.textContent="Start",t.appendChild(s),t.appendChild(i),t.appendChild(a),null==e||e.appendChild(t),a.addEventListener("click",(function(){if(""!==i.value){const s=i.value;null==e||e.removeChild(t),L(s)}else{const s="To lazy to enter a name";null==e||e.removeChild(t),L(s)}}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ08sTUFBTUEsRUFDVEMsY0FDSUMsS0FBS0MsTUFBUSxHQUNiRCxLQUFLRSxjQUNMRixLQUFLRyxLQUFPLEdBQ1pILEtBQUtJLE9BQVMsR0FDZEosS0FBS0ssWUFBYyxHQUNuQkwsS0FBS00sVUFBVyxFQUNoQk4sS0FBS08sVUFBWSxFQUNyQixDQUNBTCxjQUNJLElBQUlNLEVBQVEsRUFDWixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUFLLENBQ3pCVCxLQUFLQyxNQUFNUSxHQUFLLEdBQ2hCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3BCRixJQUNBUixLQUFLQyxNQUFNUSxHQUFHQyxHQUFLRixDQUUzQixDQUNKLENBQ0FHLFVBQVVDLEVBQU1DLEVBQU9DLEdBQ25CLEdBQUlBLElBQThELElBQWxEZCxLQUFLZSxlQUFlRixFQUFPRCxFQUFLSSxRQUFRLEdBQWdCLENBQ3BFLElBQUssSUFBSVAsRUFBSSxFQUFHQSxFQUFJRyxFQUFLSSxPQUFRUCxJQUFLLENBQ2xDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJVixLQUFLQyxNQUFNZSxPQUFRTixJQUNuQyxHQUFJVixLQUFLQyxNQUFNUyxHQUFHTyxTQUFTSixHQUFRLENBQy9CLElBQUlLLEVBQVFsQixLQUFLQyxNQUFNUyxHQUFHUyxRQUFRTixHQUNsQ2IsS0FBS0MsTUFBTVMsR0FBR1EsR0FBU04sRUFBS1EsSUFDaEMsQ0FFSlAsR0FBUyxFQUNiLENBQ0FiLEtBQUtLLFlBQVlnQixLQUFLVCxFQUMxQixNQUNLLElBQUtFLElBQzZDLElBQW5EZCxLQUFLZSxlQUFlRixFQUFPRCxFQUFLSSxRQUFRLEdBQWlCLENBQ3pELElBQUssSUFBSVAsRUFBSSxFQUFHQSxFQUFJRyxFQUFLSSxPQUFRUCxJQUFLLENBQ2xDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJVixLQUFLQyxNQUFNZSxPQUFRTixJQUNuQyxHQUFJVixLQUFLQyxNQUFNUyxHQUFHTyxTQUFTSixHQUFRLENBQy9CLElBQUlLLEVBQVFsQixLQUFLQyxNQUFNUyxHQUFHUyxRQUFRTixHQUNsQ2IsS0FBS0MsTUFBTVMsR0FBR1EsR0FBU04sRUFBS1EsSUFDaEMsQ0FFSlAsR0FBUyxDQUNiLENBQ0FiLEtBQUtLLFlBQVlnQixLQUFLVCxFQUMxQixDQUNKLENBQ0FVLGNBQWNDLEVBQUtDLEdBQ2YsSUFBSUMsRUFBV0YsRUFBTUMsRUFDaEJFLE9BQU9DLFVBQVUzQixLQUFLQyxNQUFNc0IsR0FBS0MsSUFjbEN4QixLQUFLSSxPQUFPaUIsS0FBS0ksSUFiakJ6QixLQUFLRyxLQUFLa0IsS0FBS0ksR0FDZnpCLEtBQUtLLFlBQVl1QixTQUFTaEIsSUFDdEIsR0FBSUEsRUFBS1EsT0FBU3BCLEtBQUtDLE1BQU1zQixHQUFLQyxHQU05QixPQUxBWixFQUFLaUIsSUFBSUosR0FDVGIsRUFBS2tCLGNBQ0RsQixFQUFLa0IsVUFDTDlCLEtBQUtPLFVBQVVjLEtBQUtULEdBRzVCLElBT1osQ0FDQW1CLFNBQ0ksT0FBOEIsSUFBMUIvQixLQUFLTyxVQUFVUyxNQUl2QixDQUNBRCxlQUFlVSxFQUFVVCxFQUFRZ0IsR0FDN0IsSUFBSUMsRUFBY2pDLEtBQUtrQyxnQkFBZ0JULEdBQ25DRixFQUFNdkIsS0FBS21DLE9BQU9GLEdBQ2xCVCxFQUFTeEIsS0FBS29DLE9BQU9ILEdBQ3pCLEdBQUlELEdBQWNULEVBQU1QLEVBQVMsR0FDN0IsT0FBTyxFQUVOLElBQUtnQixHQUFjUixFQUFTUixFQUFTLEdBQ3RDLE9BQU8sRUFFWCxHQUFJZ0IsRUFDQSxJQUFLLElBQUl2QixFQUFJLEVBQUdBLEVBQUlPLEVBQVFQLElBQUssQ0FDN0IsSUFBS2lCLE9BQU9DLFVBQVUzQixLQUFLQyxNQUFNc0IsR0FBS0MsSUFDbEMsT0FBTyxFQUdQRCxHQUVSLE1BR0EsSUFBSyxJQUFJZCxFQUFJLEVBQUdBLEVBQUlPLEVBQVFQLElBQUssQ0FDN0IsSUFBS2lCLE9BQU9DLFVBQVUzQixLQUFLQyxNQUFNc0IsR0FBS0MsSUFDbEMsT0FBTyxFQUdQQSxHQUVSLENBRUosT0FBTyxDQUNYLENBQ0FhLG1CQUFtQnpCLEdBQ2YsSUFDSWEsRUFDQWEsRUFGQUMsR0FBUSxFQUdaLE1BQVFBLEdBQ0pkLEVBQVdlLEtBQUtDLE1BQXNCLElBQWhCRCxLQUFLRSxVQUFrQixFQUV6Q0osRUFEQUUsS0FBS0UsU0FBVyxHQU1oQjFDLEtBQUtlLGVBQWVVLEVBQVViLEVBQUtJLE9BQVFzQixJQUMzQ0MsR0FBUSxFQUNSdkMsS0FBS1csVUFBVUMsRUFBTWEsRUFBVWEsSUFJL0JDLEdBQVEsQ0FHcEIsQ0FDQUwsZ0JBQWdCVCxHQUNaLElBQUlELEVBRUFELEVBREFvQixFQUFNbEIsRUFBU21CLFdBcUJuQixPQW5CSW5CLEVBQVcsSUFDWEQsRUFBU0MsRUFBVyxFQUNwQkYsRUFBTSxHQUVZLE1BQWJFLEdBQ0xGLEVBQU0sRUFDTkMsRUFBUyxHQUVKQyxFQUFXLElBQU8sR0FDdkJGLEVBQU1zQixTQUFTRixFQUFJRyxNQUFNLEVBQUcsSUFDNUJ0QixFQUFTLElBR1RELEVBQU1zQixTQUFTRixFQUFJRyxNQUFNLEVBQUcsSUFDNUJ0QixFQUFTcUIsU0FBU0YsRUFBSUcsTUFBTSxFQUFHLElBQU0sR0FFNUJ2QixFQUFJcUIsV0FDSnBCLEVBQU9vQixVQUd4QixDQUNBUixPQUFPTyxHQUNILE9BQU9FLFNBQVNGLEVBQUlHLE1BQU0sRUFBRyxHQUNqQyxDQUNBWCxPQUFPUSxHQUNILE9BQU9FLFNBQVNGLEVBQUlHLE1BQU0sRUFBRyxHQUNqQyxFQzdKRyxNQUFNQyxFQUNUaEQsWUFBWXFCLEVBQU00QixHQUNkaEQsS0FBS2lELFVBQVksSUFBSW5ELEVBQ3JCRSxLQUFLb0IsS0FBT0EsRUFDWnBCLEtBQUtrRCxNQUFRLEdBQ2JsRCxLQUFLZ0QsUUFBVUEsQ0FDbkIsQ0FDQUcsT0FBTzFCLEVBQVV1QixHQUNiLElBQUlmLEVBQWNqQyxLQUFLaUQsVUFBVWYsZ0JBQWdCVCxHQUM3Q0YsRUFBTXZCLEtBQUtpRCxVQUFVZCxPQUFPRixHQUM1Qm1CLEVBQU1wRCxLQUFLaUQsVUFBVWIsT0FBT0gsR0FDM0JqQyxLQUFLa0QsTUFBTWpDLFNBQVNRLEtBQ3JCekIsS0FBS2tELE1BQU03QixLQUFLSSxHQUNoQnVCLEVBQVFDLFVBQVUzQixjQUFjQyxFQUFLNkIsR0FDakNKLEVBQVFDLFVBQVVsQixTQUk5QixDQUNBc0IsYUFBYUMsR0FDVCxJQUNJN0IsRUFEQThCLEdBQVksRUFFaEIsTUFBUUEsR0FBVyxDQUNmOUIsRUFBV2UsS0FBS0MsTUFBc0IsSUFBaEJELEtBQUtFLFVBQWtCLEVBQzdDLElBQUlULEVBQWNqQyxLQUFLaUQsVUFBVWYsZ0JBQWdCVCxHQUM3Q0YsRUFBTXZCLEtBQUtpRCxVQUFVZCxPQUFPRixHQUM1Qm1CLEVBQU1wRCxLQUFLaUQsVUFBVWIsT0FBT0gsR0FDaEMsSUFBS2pDLEtBQUtrRCxNQUFNakMsU0FBU1EsR0FNckIsT0FMQXpCLEtBQUtrRCxNQUFNN0IsS0FBS0ksR0FDaEI2QixFQUFTTCxVQUFVM0IsY0FBY0MsRUFBSzZCLEdBQ3RDRyxHQUFZLEVBR0w5QixDQUVmLENBQ0osRUNyQ0csTUFBTStCLEVBQ1R6RCxZQUFZaUIsRUFBUUksR0FDaEJwQixLQUFLZ0IsT0FBU0EsRUFDZGhCLEtBQUt5RCxNQUFRLEdBQ2J6RCxLQUFLMEQsTUFBTyxFQUNaMUQsS0FBS29CLEtBQU9BLENBQ2hCLENBQ0FTLElBQUlKLEdBRUEsSUFBS3pCLEtBQUt5RCxNQUFNeEMsU0FBU1EsSUFBYXpCLEtBQUt5RCxNQUFNekMsT0FBU2hCLEtBQUtnQixPQUUzRCxPQURBaEIsS0FBS3lELE1BQU1wQyxLQUFLSSxHQUNUekIsS0FBS3lELEtBRXBCLENBQ0EzQixTQUVJLE9BQUk5QixLQUFLeUQsTUFBTXpDLFNBQVdoQixLQUFLZ0IsU0FDM0JoQixLQUFLMEQsTUFBTyxHQUNMLEVBR2YsRUNsQkosSUFBSUMsRUFBUSxJQUFJWixFQUFPLFFBQVMsWUFDNUJhLEVBQVcsSUFBSWIsRUFBTyxXQUFZLFNBQ2xDYyxFQUFTRixFQUFNVixVQUFVaEQsTUFDekI2RCxFQUFTRixFQUFTWCxVQUFVaEQsTUFDNUI4RCxFQUFXLElBQUlQLEVBQUssRUFBRyxXQUN2QlEsRUFBYSxJQUFJUixFQUFLLEVBQUcsYUFDekJTLEVBQWEsSUFBSVQsRUFBSyxFQUFHLGFBQ3pCVSxFQUFVLElBQUlWLEVBQUssRUFBRyxVQUN0QlcsRUFBVyxJQUFJWCxFQUFLLEVBQUcsV0FDdkJZLEVBQWEsSUFBSVosRUFBSyxFQUFHLGFBQ3pCYSxFQUFhLElBQUliLEVBQUssRUFBRyxhQUN6QmMsRUFBVSxJQUFJZCxFQUFLLEVBQUcsVUFDMUIsTUFBTWUsRUFBYSxDQUFDUixFQUFVQyxFQUFZQyxFQUFZQyxHQUNoRE0sRUFBZ0IsQ0FBQ0wsRUFBVUMsRUFBWUMsRUFBWUMsR0FDekQsSUFBSUcsRUFBUSxFQUNaLE1BQU1wRSxFQUFjLEdBQ0wsU0FBU00sRUFBVStELEdBRTlCLElBQUlqRCxFQURKZ0QsSUFFQSxNQUFNRSxFQUFPQyxTQUFTQyxjQUFjLFNBQ3BDRixTQUE0Q0EsRUFBS0csVUFBVUMsT0FBTyxRQUNsRUosU0FBNENBLEVBQUtHLFVBQVVFLElBQUksUUFDL0QsTUFBTUMsRUFBUUwsU0FBU0MsY0FBYyxVQUNyQ0ksU0FBOENBLEVBQU1ILFVBQVVDLE9BQU8sUUFDckUsTUFBTUcsRUFBT04sU0FBU0MsY0FBYyxtQkFDOUJNLEVBQVFQLFNBQVNDLGNBQWMsVUFDL0JPLEVBQWVSLFNBQVNDLGNBQWMsV0FDdENRLEVBQVVULFNBQVNDLGNBQWMsWUFDakNTLEVBQVlWLFNBQVNDLGNBQWMsY0FDbkNVLEVBQVlYLFNBQVNDLGNBQWMsY0FDbkNXLEVBQVNaLFNBQVNDLGNBQWMsV0FDdEMsR0FBYyxJQUFWSixFQUFhLENBQ2JXLFNBQTREQSxFQUFhSyxpQkFBaUIsU0FBUyxZQUMzRkosYUFBeUMsRUFBU0EsRUFBUVAsVUFBVVksU0FBUyxhQUM3RVAsU0FBOENBLEVBQU1MLFVBQVVDLE9BQU8sb0JBQ3JFSSxTQUE4Q0EsRUFBTUwsVUFBVUUsSUFBSSxrQkFDbEVLLEVBQVFQLFVBQVVDLE9BQU8sV0FDekJPLFNBQXNEQSxFQUFVUixVQUFVQyxPQUFPLFdBQ2pGUSxTQUFzREEsRUFBVVQsVUFBVUMsT0FBTyxXQUNqRlMsU0FBZ0RBLEVBQU9WLFVBQVVDLE9BQU8sYUFHeEVJLFNBQThDQSxFQUFNTCxVQUFVQyxPQUFPLGtCQUNyRUksU0FBOENBLEVBQU1MLFVBQVVFLElBQUksb0JBQ2xFSyxTQUFrREEsRUFBUVAsVUFBVUUsSUFBSSxXQUN4RU0sU0FBc0RBLEVBQVVSLFVBQVVFLElBQUksV0FDOUVPLFNBQXNEQSxFQUFVVCxVQUFVRSxJQUFJLFdBQzlFUSxTQUFnREEsRUFBT1YsVUFBVUUsSUFBSSxXQUU3RSxJQUNBLE1BQU1XLEVBQWNmLFNBQVNDLGNBQWMsZUFDM0NjLFNBQTBEQSxFQUFZRixpQkFBaUIsU0FBUyxXQUNqRSxJQUF2QnBGLEVBQVlXLFNBQ1ppRSxFQUFNVyxVQUFZLEdDdkRuQixTQUFxQmxCLEdBQ2hDLE1BQU1PLEVBQVFMLFNBQVNDLGNBQWMsVUFDckNJLFNBQThDQSxFQUFNSCxVQUFVRSxJQUFJLFFBQ2xFLE1BQU1hLEVBQU9qQixTQUFTQyxjQUFjLFNBQ3BDZ0IsRUFBS2YsVUFBVUMsT0FBTyxRQUN0QmMsRUFBS2YsVUFBVUUsSUFBSSxRQUNuQixNQUFNYyxFQUFRbEIsU0FBU0MsY0FBYyxvQkFDdEJELFNBQVNDLGNBQWMsWUFDL0JrQixZQUFjckIsRUFDckIsTUFBTXNCLEVBQVVwQixTQUFTQyxjQUFjLFlBQ2pDb0IsRUFBUXJCLFNBQVNDLGNBQWMsb0JBQ3RCRCxTQUFTQyxjQUFjLFlBQy9Ca0IsWUFBYyxXQUNyQixNQUFNRyxFQUFVdEIsU0FBU0MsY0FBYyxZQUNqQ3NCLEVBQVN2QixTQUFTQyxjQUFjLFlBQ2hDdUIsRUFBVXhCLFNBQVN5QixjQUFjLFVBQ3ZDRCxFQUFRdEIsVUFBVUUsSUFBSSxXQUN0Qm9CLEVBQVFMLFlBQWMsVUFDdEJLLEVBQVFYLGlCQUFpQixTQUFTLFdBQzlCYSxTQUFTQyxRQUNiLElBQ0EvQixFQUFjNUMsU0FBU2hCLElBQ25CZ0QsRUFBU1gsVUFBVVosbUJBQW1CekIsRUFBSyxJQUUvQyxJQUFJSixFQUFRLEVBQ1osSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlvRCxFQUFPN0MsT0FBUVAsSUFDL0IsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUltRCxFQUFPcEQsR0FBR08sT0FBUU4sSUFBSyxDQUN2Q0YsSUFDQSxNQUFNZ0csRUFBVzVCLFNBQVN5QixjQUFjLE9BQ3hDRyxFQUFTQyxhQUFhLFlBQWFqRyxHQUU5QmtCLE9BQU9DLFVBQVVrQyxFQUFPcEQsR0FBR0MsS0FDNUI4RixFQUFTMUIsVUFBVUUsSUFBSSxhQUUzQndCLEVBQVMxQixVQUFVRSxJQUFJLGFBQ3ZCYyxTQUE4Q0EsRUFBTVksWUFBWUYsRUFDcEUsQ0FFSixJQUFLLElBQUkvRixFQUFJLEVBQUdBLEVBQUlxRCxFQUFPOUMsT0FBUVAsSUFDL0IsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlvRCxFQUFPckQsR0FBR08sT0FBUU4sSUFBSyxDQUN2QyxNQUFNOEYsRUFBVzVCLFNBQVN5QixjQUFjLE9BQ3hDRyxFQUFTQyxhQUFhLFlBQWEzQyxFQUFPckQsR0FBR0MsSUFFN0M4RixFQUFTMUIsVUFBVUUsSUFBSSxhQUN2QndCLEVBQVMxQixVQUFVRSxJQUFJLFdBQ3ZCd0IsRUFBU2YsaUJBQWlCLFNBQVMsV0FDL0IsR0FBSWUsRUFBUzFCLFVBQVVZLFNBQVMsUUFDNUJjLEVBQVMxQixVQUFVWSxTQUFTLFNBQzVCL0IsRUFBTVYsVUFBVWxCLFVBQ2hCNkIsRUFBU1gsVUFBVWxCLFNBQ25CLE9BRUosR0FBS0wsT0FBT0MsVUFBVW1DLEVBQU9yRCxHQUFHQyxJQXNCNUI4RixFQUFTMUIsVUFBVUUsSUFBSSxRQUN2QndCLEVBQVNULFlBQWMsUUF2QlUsQ0FDakNTLEVBQVMxQixVQUFVRSxJQUFJLE9BQ3ZCLElBQUlsRCxHQUFTLEVBT2IsR0FOQThCLEVBQVNYLFVBQVUzQixjQUFjYixFQUFHQyxHQUNwQ2tELEVBQVNYLFVBQVU1QyxZQUFZdUIsU0FBU2hCLElBQ2hDQSxFQUFLUSxPQUFTMEMsRUFBT3JELEdBQUdDLEtBQ3hCb0IsRUFBU2xCLEVBQUs4QyxLQUNsQixJQUVBNUIsRUFBUSxDQUNSLE1BQU02RSxFQUFTL0IsU0FBU3lCLGNBQWMsTUFHdEMsR0FGQU0sRUFBT1osWUFBY2pDLEVBQU9yRCxHQUFHQyxHQUMvQndGLFNBQWtEQSxFQUFRUSxZQUFZQyxHQUNsRS9DLEVBQVNYLFVBQVVsQixTQUFVLENBQzdCLE1BQU02RSxFQUFTaEMsU0FBU3lCLGNBQWMsTUFDdENPLEVBQU9iLFlBQWMsV0FBYXJCLEVBQWEsSUFDL0N5QixTQUFnREEsRUFBT08sWUFBWUUsR0FDbkVULFNBQWdEQSxFQUFPTyxZQUFZTixFQUN2RSxDQUNKLENBQ0osQ0FLQSxJQUFJM0UsRUFDSkEsRUFBV21DLEVBQVNQLGFBQWFNLEdBQ2pDLE1BQU1rRCxFQUFPakMsU0FBU0MsY0FBYyxlQUFlcEQsT0FDbkQsSUFBSXFGLEVBQU9yRixFQUNQUSxFQUFjMEIsRUFBTVYsVUFBVWYsZ0JBQWdCNEUsR0FDOUN2RixFQUFNb0MsRUFBTVYsVUFBVWQsT0FBT0YsR0FDN0JtQixFQUFNTyxFQUFNVixVQUFVYixPQUFPSCxHQUNqQyxHQUFLUCxPQUFPQyxVQUFVZ0MsRUFBTVYsVUFBVWhELE1BQU1zQixHQUFLNkIsSUF1QjdDeUQsU0FBNENBLEVBQUsvQixVQUFVRSxJQUFJLFFBQy9ENkIsRUFBS2QsWUFBYyxRQXhCaUMsQ0FDcERjLFNBQTRDQSxFQUFLL0IsVUFBVUMsT0FBTyxhQUNsRThCLFNBQTRDQSxFQUFLL0IsVUFBVUUsSUFBSSxPQUMvRCxJQUFJK0IsR0FBVSxFQU9kLEdBTkFwRCxFQUFNVixVQUFVM0IsY0FBY2IsRUFBR0MsR0FDakNpRCxFQUFNVixVQUFVNUMsWUFBWXVCLFNBQVNoQixJQUM3QkEsRUFBS1EsT0FBU3lDLEVBQU90QyxHQUFLNkIsS0FDMUIyRCxFQUFVbkcsRUFBSzhDLEtBQ25CLElBRUFxRCxFQUFTLENBQ1QsTUFBTUosRUFBUy9CLFNBQVN5QixjQUFjLE1BR3RDLEdBRkFNLEVBQU9aLFlBQWNsQyxFQUFPdEMsR0FBSzZCLEdBQ2pDNEMsU0FBa0RBLEVBQVFVLFlBQVlDLEdBQ2xFaEQsRUFBTVYsVUFBVWxCLFNBQVUsQ0FDMUIsTUFBTTZFLEVBQVNoQyxTQUFTeUIsY0FBYyxNQUN0Q08sRUFBT2IsWUFBYyxvQkFDckJJLFNBQWdEQSxFQUFPTyxZQUFZRSxHQUNuRVQsU0FBZ0RBLEVBQU9PLFlBQVlOLEVBQ3ZFLENBQ0osQ0FDSixDQUtKLElBQ0FILFNBQThDQSxFQUFNUyxZQUFZRixFQUNwRSxDQUVSLENEMURnQlEsQ0FBWXRDLEdBRXBCLEdBQ0osQ0FDQXVDLElBQ0EsTUFBTUMsRUFBaUJ0QyxTQUFTQyxjQUFjLG1CQVM5QyxTQUFTb0MsSUFDTCxJQUFJekcsRUFBUSxFQUNaMEUsRUFBS1UsVUFBWSxHQUNqQixJQUFLLElBQUluRixFQUFJLEVBQUdBLEVBQUlvRCxFQUFPN0MsT0FBUVAsSUFDL0IsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUltRCxFQUFPcEQsR0FBR08sT0FBUU4sSUFBSyxDQUN2Q0YsSUFDQSxNQUFNZ0csRUFBVzVCLFNBQVN5QixjQUFjLE9BQ3hDRyxFQUFTQyxhQUFhLGlCQUFrQmpHLEdBQ25Da0IsT0FBT0MsVUFBVWtDLEVBQU9wRCxHQUFHQyxLQUM1QjhGLEVBQVMxQixVQUFVRSxJQUFJLGFBRTNCd0IsRUFBUzFCLFVBQVVFLElBQUksYUFDdkJFLFNBQTRDQSxFQUFLd0IsWUFBWUYsRUFDakUsQ0FFUixDQXZCQVUsU0FBOERBLEVBQWN6QixpQkFBaUIsU0FBUyxXQUNsR2xCLEVBQVczQyxTQUFTaEIsSUFDaEIrQyxFQUFNVixVQUFVWixtQkFBbUJ6QixFQUFLLElBRTVDc0csRUFBY0MsVUFBVyxFQUN6QmpDLEVBQUtVLFVBQVksR0FDakJxQixHQUNKLElBbUJ1QnJDLFNBQVN3QyxpQkFBaUIsY0FDbEN4RixTQUFTeUYsSUFDaEJBLEVBQVU1QixpQkFBaUIsYUFBYSxLQUNwQzRCLEVBQVV2QyxVQUFVRSxJQUFJLFdBQVcsSUFFdkNxQyxFQUFVNUIsaUJBQWlCLFdBQVk2QixJQUNuQyxNQUFNQyxFQUFjRCxFQUFHRSxPQUNqQkMsRUFBYTVFLFNBQVNwQixFQUFTaUcsUUFBUUMsWUFhekQsU0FBMEJDLEVBQVVILEdBSWhDLElBSCtCLElBQTNCUCxFQUFjQyxXQUNkRCxFQUFjQyxVQUFXLEdBRVosWUFBYlMsRUFDQSxHQUFJdkMsRUFBUVAsVUFBVVksU0FBUyxXQUFZLENBQ3ZDLElBQUkvQixFQUFNVixVQUFVbEMsZUFBZTBHLEVBQVksR0FBRyxHQU85QyxZQURBcEMsRUFBUVAsVUFBVUMsT0FBTyxZQUx6QnBCLEVBQU1WLFVBQVV0QyxVQUFVb0QsRUFBVTBELEdBQVksR0FDaER0QyxTQUE4Q0EsRUFBTTBDLFlBQVl4QyxHQUNoRWhGLEVBQVlnQixLQUFLdUcsRUFNekIsTUFFUWpFLEVBQU1WLFVBQVVsQyxlQUFlMEcsRUFBWSxHQUFHLElBQzlDOUQsRUFBTVYsVUFBVXRDLFVBQVVvRCxFQUFVMEQsR0FBWSxHQUNoRHRDLFNBQThDQSxFQUFNMEMsWUFBWXhDLEdBQ2hFaEYsRUFBWWdCLEtBQUt1RyxJQUdqQnZDLEVBQVFQLFVBQVVDLE9BQU8sWUFJckMsR0FBaUIsY0FBYjZDLEVBQ0EsR0FBSXRDLEVBQVVSLFVBQVVZLFNBQVMsV0FBWSxDQUN6QyxJQUFJL0IsRUFBTVYsVUFBVWxDLGVBQWUwRyxFQUFZLEdBQUcsR0FPOUMsWUFEQW5DLEVBQVVSLFVBQVVDLE9BQU8sWUFMM0JwQixFQUFNVixVQUFVdEMsVUFBVXFELEVBQVl5RCxHQUFZLEdBQ2xEdEMsU0FBOENBLEVBQU0wQyxZQUFZdkMsR0FDaEVqRixFQUFZZ0IsS0FBS3VHLEVBTXpCLE1BRVFqRSxFQUFNVixVQUFVbEMsZUFBZTBHLEVBQVksR0FBRyxJQUM5QzlELEVBQU1WLFVBQVV0QyxVQUFVcUQsRUFBWXlELEdBQVksR0FDbER0QyxTQUE4Q0EsRUFBTTBDLFlBQVl2QyxHQUNoRWpGLEVBQVlnQixLQUFLdUcsSUFHakJ0QyxFQUFVUixVQUFVQyxPQUFPLFlBSXZDLEdBQWlCLGNBQWI2QyxFQUNBLEdBQUlyQyxFQUFVVCxVQUFVWSxTQUFTLFdBQVksQ0FDekMsSUFBSS9CLEVBQU1WLFVBQVVsQyxlQUFlMEcsRUFBWSxHQUFHLEdBTzlDLFlBREFsQyxFQUFVVCxVQUFVQyxPQUFPLFlBTDNCcEIsRUFBTVYsVUFBVXRDLFVBQVVzRCxFQUFZd0QsR0FBWSxHQUNsRHRDLFNBQThDQSxFQUFNMEMsWUFBWXRDLEdBQ2hFbEYsRUFBWWdCLEtBQUt1RyxFQU16QixNQUVRakUsRUFBTVYsVUFBVWxDLGVBQWUwRyxFQUFZLEdBQUcsSUFDOUM5RCxFQUFNVixVQUFVdEMsVUFBVXNELEVBQVl3RCxHQUFZLEdBQ2xEdEMsU0FBOENBLEVBQU0wQyxZQUFZdEMsR0FDaEVsRixFQUFZZ0IsS0FBS3VHLElBR2pCckMsRUFBVVQsVUFBVUMsT0FBTyxZQUl2QyxHQUFpQixXQUFiNkMsRUFDQSxHQUFJcEMsRUFBT1YsVUFBVVksU0FBUyxXQUFZLENBQ3RDLElBQUkvQixFQUFNVixVQUFVbEMsZUFBZTBHLEVBQVksR0FBRyxHQU85QyxZQURBakMsRUFBT1YsVUFBVUMsT0FBTyxZQUx4QnBCLEVBQU1WLFVBQVV0QyxVQUFVdUQsRUFBU3VELEdBQVksR0FDL0N0QyxTQUE4Q0EsRUFBTTBDLFlBQVlyQyxHQUNoRW5GLEVBQVlnQixLQUFLdUcsRUFNekIsTUFFUWpFLEVBQU1WLFVBQVVsQyxlQUFlMEcsRUFBWSxHQUFHLElBQzlDOUQsRUFBTVYsVUFBVXRDLFVBQVV1RCxFQUFTdUQsR0FBWSxHQUMvQ3RDLFNBQThDQSxFQUFNMEMsWUFBWXJDLEdBQ2hFbkYsRUFBWWdCLEtBQUt1RyxJQUdqQnBDLEVBQU9WLFVBQVVDLE9BQU8sV0FJeEMsQ0EzR1krQyxDQURpQlAsRUFBWVEsR0FDRk4sR0FDM0I5RyxFQUFVK0QsRUFBVyxHQUN2QixJQUVXRSxTQUFTd0MsaUJBQWlCLGNBQ2xDeEYsU0FBUWlGLElBQ2JBLEVBQUtwQixpQkFBaUIsWUFBYXVDLElBQy9CdkcsRUFBV3VHLEVBQUVSLE1BQU0sR0FDckIsR0FvR2QsRUU3TWUsV0FDWCxNQUFNN0MsRUFBT0MsU0FBU0MsY0FBYyxTQUM5Qm9ELEVBQWlCckQsU0FBU3lCLGNBQWMsT0FDOUM0QixFQUFlbkQsVUFBVUUsSUFBSSxtQkFDN0IsTUFBTWtELEVBQVl0RCxTQUFTeUIsY0FBYyxTQUN6QzZCLEVBQVVwRCxVQUFVRSxJQUFJLGNBQ3hCa0QsRUFBVW5DLFlBQWMsY0FDeEIsTUFBTW9DLEVBQVl2RCxTQUFTeUIsY0FBYyxTQUN6QzhCLEVBQVVyRCxVQUFVRSxJQUFJLGNBQ3hCLE1BQU1XLEVBQWNmLFNBQVN5QixjQUFjLFVBQzNDVixFQUFZYixVQUFVRSxJQUFJLGdCQUMxQlcsRUFBWUksWUFBYyxRQUMxQmtDLEVBQWV2QixZQUFZd0IsR0FDM0JELEVBQWV2QixZQUFZeUIsR0FDM0JGLEVBQWV2QixZQUFZZixHQUMzQmhCLFNBQTRDQSxFQUFLK0IsWUFBWXVCLEdBRTdEdEMsRUFBWUYsaUJBQWlCLFNBQVMsV0FDbEMsR0FBd0IsS0FBcEIwQyxFQUFVQyxNQUFjLENBQ3hCLE1BQU1oSCxFQUFPK0csRUFBVUMsTUFDdkJ6RCxTQUE0Q0EsRUFBS2tELFlBQVlJLEdBQzdEdEgsRUFBVVMsRUFDZCxLQUNLLENBQ0QsTUFBTUEsRUFBTywwQkFDYnVELFNBQTRDQSxFQUFLa0QsWUFBWUksR0FDN0R0SCxFQUFVUyxFQUNkLENBQ0osR0FDSixDQzdCQWlILEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9nYW1lYm9hcmQudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMvcGxheWVycy50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9zaGlwLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvdWkvcGxhY2VTaGlwLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvdWkvcmVuZGVyR2FtZUJvYXJkcy50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3VpL3N0YXJ0R2FtZS50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IFNoaXAgfSBmcm9tICcuL3NoaXAnXHJcbmV4cG9ydCBjbGFzcyBHYW1lQm9hcmQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ib2FyZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQm9hcmQoKTtcclxuICAgICAgICB0aGlzLmhpdHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1pc3NlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMucGxhY2VkU2hpcHMgPSBbXTtcclxuICAgICAgICB0aGlzLmdhbWVPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdW5rU2hpcHMgPSBbXTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUJvYXJkKCkge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbaV0gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtpXVtqXSA9IGNvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGxhY2VTaGlwKHNoaXAsIHN0YXJ0LCB2ZXJ0aWNhbCkge1xyXG4gICAgICAgIGlmICh2ZXJ0aWNhbCAmJiB0aGlzLnZhbGlkUGxhY2VtZW50KHN0YXJ0LCBzaGlwLmxlbmd0aCwgdHJ1ZSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYm9hcmQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib2FyZFtqXS5pbmNsdWRlcyhzdGFydCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5ib2FyZFtqXS5pbmRleE9mKHN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtqXVtpbmRleF0gPSBzaGlwLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RhcnQgKz0gMTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGFjZWRTaGlwcy5wdXNoKHNoaXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdmVydGljYWwgJiZcclxuICAgICAgICAgICAgdGhpcy52YWxpZFBsYWNlbWVudChzdGFydCwgc2hpcC5sZW5ndGgsIGZhbHNlKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5ib2FyZC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkW2pdLmluY2x1ZGVzKHN0YXJ0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmJvYXJkW2pdLmluZGV4T2Yoc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2pdW2luZGV4XSA9IHNoaXAubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGFydCArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxhY2VkU2hpcHMucHVzaChzaGlwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWNpZXZlQXR0YWNrKHJvdywgY29sdW1uKSB7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gcm93ICsgY29sdW1uO1xyXG4gICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih0aGlzLmJvYXJkW3Jvd11bY29sdW1uXSkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2gocG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnBsYWNlZFNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGlwLm5hbWUgPT09IHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpcC5oaXQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXAuaXNTdW5rKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdW5rU2hpcHMucHVzaChzaGlwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubWlzc2VzLnB1c2gocG9zaXRpb24pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNPdmVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN1bmtTaGlwcy5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhbGlkUGxhY2VtZW50KHBvc2l0aW9uLCBsZW5ndGgsIGlzVmVydGljYWwpIHtcclxuICAgICAgICBsZXQgbmV3UG9zaXRpb24gPSB0aGlzLmNvbnZlcnRQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgbGV0IHJvdyA9IHRoaXMuZ2V0Um93KG5ld1Bvc2l0aW9uKTtcclxuICAgICAgICBsZXQgY29sdW1uID0gdGhpcy5nZXRDb2wobmV3UG9zaXRpb24pO1xyXG4gICAgICAgIGlmIChpc1ZlcnRpY2FsICYmIHJvdyArIGxlbmd0aCA+IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWlzVmVydGljYWwgJiYgY29sdW1uICsgbGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIodGhpcy5ib2FyZFtyb3ddW2NvbHVtbl0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih0aGlzLmJvYXJkW3Jvd11bY29sdW1uXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4rKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJhbmRvbWx5UGxhY2VTaGlwcyhzaGlwKSB7XHJcbiAgICAgICAgbGV0IHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uO1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb247XHJcbiAgICAgICAgd2hpbGUgKCF2YWxpZCkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAxO1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkUGxhY2VtZW50KHBvc2l0aW9uLCBzaGlwLmxlbmd0aCwgZGlyZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZVNoaXAoc2hpcCwgcG9zaXRpb24sIGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAvLyByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb252ZXJ0UG9zaXRpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBsZXQgY29sdW1uO1xyXG4gICAgICAgIGxldCBzdHIgPSBwb3NpdGlvbi50b1N0cmluZygpO1xyXG4gICAgICAgIGxldCByb3c7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMTEpIHtcclxuICAgICAgICAgICAgY29sdW1uID0gcG9zaXRpb24gLSAxO1xyXG4gICAgICAgICAgICByb3cgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwb3NpdGlvbiA9PT0gMTAwKSB7XHJcbiAgICAgICAgICAgIHJvdyA9IDk7XHJcbiAgICAgICAgICAgIGNvbHVtbiA9IDk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uICUgMTAgPT09IDApIHtcclxuICAgICAgICAgICAgcm93ID0gcGFyc2VJbnQoc3RyLnNsaWNlKDAsIDEpKTtcclxuICAgICAgICAgICAgY29sdW1uID0gOTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJvdyA9IHBhcnNlSW50KHN0ci5zbGljZSgwLCAxKSk7XHJcbiAgICAgICAgICAgIGNvbHVtbiA9IHBhcnNlSW50KHN0ci5zbGljZSgxLCAyKSkgLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RyUm93ID0gcm93LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IHN0ckNvbCA9IGNvbHVtbi50b1N0cmluZygpO1xyXG4gICAgICAgIGxldCBuZXdQb3NpdGlvbiA9IHN0clJvdyArIHN0ckNvbDtcclxuICAgICAgICByZXR1cm4gbmV3UG9zaXRpb247XHJcbiAgICB9XHJcbiAgICBnZXRDb2woc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0ci5zbGljZSgxLCAyKSk7XHJcbiAgICB9XHJcbiAgICBnZXRSb3coc3RyKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0ci5zbGljZSgwLCAxKSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgR2FtZUJvYXJkIH0gZnJvbSBcIi4vZ2FtZWJvYXJkXCI7XHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgb3BvbmVudCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWJvYXJkID0gbmV3IEdhbWVCb2FyZCgpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5zaG90cyA9IFtdO1xyXG4gICAgICAgIHRoaXMub3BvbmVudCA9IG9wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBhdHRhY2socG9zaXRpb24sIG9wb25lbnQpIHtcclxuICAgICAgICBsZXQgbmV3UG9zaXRpb24gPSB0aGlzLmdhbWVib2FyZC5jb252ZXJ0UG9zaXRpb24ocG9zaXRpb24pO1xyXG4gICAgICAgIGxldCByb3cgPSB0aGlzLmdhbWVib2FyZC5nZXRSb3cobmV3UG9zaXRpb24pO1xyXG4gICAgICAgIGxldCBjb2wgPSB0aGlzLmdhbWVib2FyZC5nZXRDb2wobmV3UG9zaXRpb24pO1xyXG4gICAgICAgIGlmICghdGhpcy5zaG90cy5pbmNsdWRlcyhwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG90cy5wdXNoKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgb3BvbmVudC5nYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhyb3csIGNvbCk7XHJcbiAgICAgICAgICAgIGlmIChvcG9uZW50LmdhbWVib2FyZC5pc092ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJnZ1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmFuZG9tQXR0YWNrKG9wcG9uZW50KSB7XHJcbiAgICAgICAgbGV0IHZhbGlkU2hvdCA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBwb3NpdGlvbjtcclxuICAgICAgICB3aGlsZSAoIXZhbGlkU2hvdCkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyAxO1xyXG4gICAgICAgICAgICBsZXQgbmV3UG9zaXRpb24gPSB0aGlzLmdhbWVib2FyZC5jb252ZXJ0UG9zaXRpb24ocG9zaXRpb24pO1xyXG4gICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5nYW1lYm9hcmQuZ2V0Um93KG5ld1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgbGV0IGNvbCA9IHRoaXMuZ2FtZWJvYXJkLmdldENvbChuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zaG90cy5pbmNsdWRlcyhwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdHMucHVzaChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBvcHBvbmVudC5nYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhyb3csIGNvbCk7XHJcbiAgICAgICAgICAgICAgICB2YWxpZFNob3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHN0cjogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAvLyBzdHIgPSByb3cudG9TdHJpbmcoKSArIGNvbC50b1N0cmluZygpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFNoaXAge1xyXG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCBuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XHJcbiAgICAgICAgdGhpcy5pc0hpdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3VuayA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICBoaXQocG9zaXRpb24pIHtcclxuICAgICAgICAvL3B1c2ggcG9zaXRpb24gdG8gaXNoaXQgYXJyYXlcclxuICAgICAgICBpZiAoIXRoaXMuaXNIaXQuaW5jbHVkZXMocG9zaXRpb24pICYmIHRoaXMuaXNIaXQubGVuZ3RoIDwgdGhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0hpdC5wdXNoKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNIaXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNTdW5rKCkge1xyXG4gICAgICAgIC8vY2hlY2tzIGVhY2ggcG9zaXRpb24gb2Ygc2hpcCBmb3IgaGl0cyBpZiBhbGwgYXJlIGhpdCBpcyBzdW5rXHJcbiAgICAgICAgaWYgKHRoaXMuaXNIaXQubGVuZ3RoID09PSB0aGlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnN1bmsgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCByZW5kZXJHcmlkcyBmcm9tIFwiLi9yZW5kZXJHYW1lQm9hcmRzXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLy4uL2ZhY3Rvcmllcy9wbGF5ZXJzXCI7XHJcbmltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi8uLi9mYWN0b3JpZXMvc2hpcFwiO1xyXG5sZXQgaHVtYW4gPSBuZXcgUGxheWVyKFwiaHVtYW5cIiwgXCJjb21wdXRlclwiKTtcclxubGV0IGNvbXB1dGVyID0gbmV3IFBsYXllcihcImNvbXB1dGVyXCIsIFwiaHVtYW5cIik7XHJcbmxldCBoQm9hcmQgPSBodW1hbi5nYW1lYm9hcmQuYm9hcmQ7XHJcbmxldCBjQm9hcmQgPSBjb21wdXRlci5nYW1lYm9hcmQuYm9hcmQ7XHJcbmxldCBoQ2FycmllciA9IG5ldyBTaGlwKDUsIFwiY2FycmllclwiKTtcclxubGV0IGhEZXN0cm95ZXIgPSBuZXcgU2hpcCg0LCBcImRlc3Ryb3llclwiKTtcclxubGV0IGhTdWJtYXJpbmUgPSBuZXcgU2hpcCgzLCBcInN1Ym1hcmluZVwiKTtcclxubGV0IGhQYXRyb2wgPSBuZXcgU2hpcCgyLCBcInBhdHJvbFwiKTtcclxubGV0IGNDYXJyaWVyID0gbmV3IFNoaXAoNSwgXCJjYXJyaWVyXCIpO1xyXG5sZXQgY0Rlc3Ryb3llciA9IG5ldyBTaGlwKDQsIFwiZGVzdHJveWVyXCIpO1xyXG5sZXQgY1N1Ym1hcmluZSA9IG5ldyBTaGlwKDMsIFwic3VibWFyaW5lXCIpO1xyXG5sZXQgY1BhdHJvbCA9IG5ldyBTaGlwKDIsIFwicGF0cm9sXCIpO1xyXG5jb25zdCBodW1hblNoaXBzID0gW2hDYXJyaWVyLCBoRGVzdHJveWVyLCBoU3VibWFyaW5lLCBoUGF0cm9sXTtcclxuY29uc3QgY29tcHV0ZXJTaGlwcyA9IFtjQ2FycmllciwgY0Rlc3Ryb3llciwgY1N1Ym1hcmluZSwgY1BhdHJvbF07XHJcbmxldCBjYWxscyA9IDA7XHJcbmNvbnN0IHBsYWNlZFNoaXBzID0gW107XHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBsYWNlU2hpcChwbGF5ZXJOYW1lKSB7XHJcbiAgICBjYWxscysrO1xyXG4gICAgbGV0IHBvc2l0aW9uO1xyXG4gICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5mb1wiKTtcclxuICAgIGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby5jbGFzc0xpc3QucmVtb3ZlKFwiaW5mb1wiKTtcclxuICAgIGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcclxuICAgIGNvbnN0IHBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZVwiKTtcclxuICAgIHBsYWNlID09PSBudWxsIHx8IHBsYWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGFjZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcclxuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyaWQtY29udGFpbmVyXCIpO1xyXG4gICAgY29uc3Qgc2hpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNoaXBzXCIpO1xyXG4gICAgY29uc3Qgcm90YXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yb3RhdGVcIik7XHJcbiAgICBjb25zdCBjYXJyaWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJyaWVyXCIpO1xyXG4gICAgY29uc3QgZGVzdHJveWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZXN0cm95ZXJcIik7XHJcbiAgICBjb25zdCBzdWJtYXJpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1hcmluZVwiKTtcclxuICAgIGNvbnN0IHBhdHJvbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGF0cm9sXCIpO1xyXG4gICAgaWYgKGNhbGxzID09PSAxKSB7XHJcbiAgICAgICAgcm90YXRlQnV0dG9uID09PSBudWxsIHx8IHJvdGF0ZUJ1dHRvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm90YXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjYXJyaWVyID09PSBudWxsIHx8IGNhcnJpZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcnJpZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgc2hpcHMgPT09IG51bGwgfHwgc2hpcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoaXBzLmNsYXNzTGlzdC5yZW1vdmUoXCJzaGlwcy1ob3Jpem9udGFsXCIpO1xyXG4gICAgICAgICAgICAgICAgc2hpcHMgPT09IG51bGwgfHwgc2hpcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoaXBzLmNsYXNzTGlzdC5hZGQoXCJzaGlwcy12ZXJ0aWNhbFwiKTtcclxuICAgICAgICAgICAgICAgIGNhcnJpZXIuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95ZXIgPT09IG51bGwgfHwgZGVzdHJveWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXN0cm95ZXIuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBzdWJtYXJpbmUgPT09IG51bGwgfHwgc3VibWFyaW5lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdWJtYXJpbmUuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBwYXRyb2wgPT09IG51bGwgfHwgcGF0cm9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXRyb2wuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMuY2xhc3NMaXN0LnJlbW92ZShcInNoaXBzLXZlcnRpY2FsXCIpO1xyXG4gICAgICAgICAgICAgICAgc2hpcHMgPT09IG51bGwgfHwgc2hpcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoaXBzLmNsYXNzTGlzdC5hZGQoXCJzaGlwcy1ob3Jpem9udGFsXCIpO1xyXG4gICAgICAgICAgICAgICAgY2FycmllciA9PT0gbnVsbCB8fCBjYXJyaWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYXJyaWVyLmNsYXNzTGlzdC5hZGQoXCJyb3RhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveWVyID09PSBudWxsIHx8IGRlc3Ryb3llciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVzdHJveWVyLmNsYXNzTGlzdC5hZGQoXCJyb3RhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgc3VibWFyaW5lID09PSBudWxsIHx8IHN1Ym1hcmluZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3VibWFyaW5lLmNsYXNzTGlzdC5hZGQoXCJyb3RhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgcGF0cm9sID09PSBudWxsIHx8IHBhdHJvbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGF0cm9sLmNsYXNzTGlzdC5hZGQoXCJyb3RhdGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0YXJ0LWdhbWVcIik7XHJcbiAgICAgICAgc3RhcnRCdXR0b24gPT09IG51bGwgfHwgc3RhcnRCdXR0b24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGFjZWRTaGlwcy5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIHBsYWNlLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyR3JpZHMocGxheWVyTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNoZWNrQm9hcmQoKTtcclxuICAgIGNvbnN0IHJhbmRvbWx5UGxhY2UgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYW5kb21seS1wbGFjZVwiKSk7XHJcbiAgICByYW5kb21seVBsYWNlID09PSBudWxsIHx8IHJhbmRvbWx5UGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJhbmRvbWx5UGxhY2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBodW1hblNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcclxuICAgICAgICAgICAgaHVtYW4uZ2FtZWJvYXJkLnJhbmRvbWx5UGxhY2VTaGlwcyhzaGlwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByYW5kb21seVBsYWNlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICBncmlkLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgY2hlY2tCb2FyZCgpO1xyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBjaGVja0JvYXJkKCkge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZ3JpZC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhCb2FyZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhCb2FyZFtpXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyaWRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgICAgIGdyaWRJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtaHBvc2l0aW9uXCIsIGNvdW50KTtcclxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihoQm9hcmRbaV1bal0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcInNoaXAtaGVyZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGdyaWRJdGVtLmNsYXNzTGlzdC5hZGQoXCJncmlkLWl0ZW1cIik7XHJcbiAgICAgICAgICAgICAgICBncmlkID09PSBudWxsIHx8IGdyaWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdyaWQuYXBwZW5kQ2hpbGQoZ3JpZEl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZXZlbnRzKCk7XHJcbiAgICBmdW5jdGlvbiBldmVudHMoKSB7XHJcbiAgICAgICAgY29uc3QgZHJhZ2dhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJhZ2dhYmxlXCIpO1xyXG4gICAgICAgIGRyYWdnYWJsZXMuZm9yRWFjaCgoZHJhZ2dhYmxlKSA9PiB7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZS5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW5kXCIsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hpcEVsZW1lbnQgPSBldi50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UG9zID0gcGFyc2VJbnQocG9zaXRpb24uZGF0YXNldC5ocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hpcE5hbWUgPSBzaGlwRWxlbWVudC5pZDtcclxuICAgICAgICAgICAgICAgIHBsYWNlU2hpcERyYWdnZWQoc2hpcE5hbWUsIGN1cnJlbnRQb3MpO1xyXG4gICAgICAgICAgICAgICAgcGxhY2VTaGlwKHBsYXllck5hbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBncmlkSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ3JpZC1pdGVtXCIpO1xyXG4gICAgICAgIGdyaWRJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBsYWNlU2hpcERyYWdnZWQoc2hpcE5hbWUsIGN1cnJlbnRQb3MpIHtcclxuICAgICAgICBpZiAocmFuZG9tbHlQbGFjZS5kaXNhYmxlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmFuZG9tbHlQbGFjZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGlwTmFtZSA9PT0gXCJjYXJyaWVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKGNhcnJpZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCA1LCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhDYXJyaWVyLCBjdXJyZW50UG9zLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpcHMgPT09IG51bGwgfHwgc2hpcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoaXBzLnJlbW92ZUNoaWxkKGNhcnJpZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZFNoaXBzLnB1c2goc2hpcE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Fycmllci5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgNSwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhDYXJyaWVyLCBjdXJyZW50UG9zLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQoY2Fycmllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkU2hpcHMucHVzaChzaGlwTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJyaWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcImRlc3Ryb3llclwiKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXN0cm95ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCA0LCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhEZXN0cm95ZXIsIGN1cnJlbnRQb3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQoZGVzdHJveWVyKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWRTaGlwcy5wdXNoKHNoaXBOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3llci5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgNCwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhEZXN0cm95ZXIsIGN1cnJlbnRQb3MsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXBzID09PSBudWxsIHx8IHNoaXBzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGlwcy5yZW1vdmVDaGlsZChkZXN0cm95ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZFNoaXBzLnB1c2goc2hpcE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcInN1Ym1hcmluZVwiKSB7XHJcbiAgICAgICAgICAgIGlmIChzdWJtYXJpbmUuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCAzLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhTdWJtYXJpbmUsIGN1cnJlbnRQb3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQoc3VibWFyaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWRTaGlwcy5wdXNoKHNoaXBOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1hcmluZS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgMywgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhTdWJtYXJpbmUsIGN1cnJlbnRQb3MsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXBzID09PSBudWxsIHx8IHNoaXBzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGlwcy5yZW1vdmVDaGlsZChzdWJtYXJpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZFNoaXBzLnB1c2goc2hpcE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWFyaW5lLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcInBhdHJvbFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRyb2wuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCAyLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhQYXRyb2wsIGN1cnJlbnRQb3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQocGF0cm9sKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWRTaGlwcy5wdXNoKHNoaXBOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdHJvbC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgMiwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhQYXRyb2wsIGN1cnJlbnRQb3MsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXBzID09PSBudWxsIHx8IHNoaXBzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGlwcy5yZW1vdmVDaGlsZChwYXRyb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZFNoaXBzLnB1c2goc2hpcE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0cm9sLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgaHVtYW5TaGlwcywgY29tcHV0ZXJTaGlwcywgaHVtYW4sIGNvbXB1dGVyLCBoQm9hcmQsIGNCb2FyZCB9O1xyXG4iLCJpbXBvcnQgeyBjb21wdXRlclNoaXBzLCBodW1hbiwgY29tcHV0ZXIsIGhCb2FyZCwgY0JvYXJkIH0gZnJvbSBcIi4uL3VpL3BsYWNlU2hpcFwiO1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJHcmlkcyhwbGF5ZXJOYW1lKSB7XHJcbiAgICBjb25zdCBwbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZScpO1xyXG4gICAgcGxhY2UgPT09IG51bGwgfHwgcGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYWNlLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW5cIik7XHJcbiAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKFwibWFpblwiKTtcclxuICAgIGNvbnN0IGdyaWQxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncmlkLWNvbnRhaW5lcjFcIik7XHJcbiAgICBjb25zdCB0aXRsZTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLTFcIik7XHJcbiAgICB0aXRsZTEudGV4dENvbnRlbnQgPSBwbGF5ZXJOYW1lO1xyXG4gICAgY29uc3Qgc3Vua2VuMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3Vua2VuMVwiKTtcclxuICAgIGNvbnN0IGdyaWQyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncmlkLWNvbnRhaW5lcjJcIik7XHJcbiAgICBjb25zdCB0aXRsZTIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLTJcIik7XHJcbiAgICB0aXRsZTIudGV4dENvbnRlbnQgPSBcIkNvbXB1dGVyXCI7XHJcbiAgICBjb25zdCBzdW5rZW4yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW5rZW4yXCIpO1xyXG4gICAgY29uc3Qgd2hvV29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aG8td29uXCIpO1xyXG4gICAgY29uc3QgcmVzdGFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICByZXN0YXJ0LmNsYXNzTGlzdC5hZGQoXCJyZXN0YXJ0XCIpO1xyXG4gICAgcmVzdGFydC50ZXh0Q29udGVudCA9IFwiUmVzdGFydFwiO1xyXG4gICAgcmVzdGFydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgfSk7XHJcbiAgICBjb21wdXRlclNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcclxuICAgICAgICBjb21wdXRlci5nYW1lYm9hcmQucmFuZG9tbHlQbGFjZVNoaXBzKHNoaXApO1xyXG4gICAgfSk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoQm9hcmQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhCb2FyZFtpXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICBjb25zdCBncmlkSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGdyaWRJdGVtLnNldEF0dHJpYnV0ZShcImhwb3NpdGlvblwiLCBjb3VudCk7XHJcbiAgICAgICAgICAgIC8vIGdyaWRJdGVtLnRleHRDb250ZW50ID0gYm9hcmRbaV1bal1cclxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGhCb2FyZFtpXVtqXSkpIHtcclxuICAgICAgICAgICAgICAgIGdyaWRJdGVtLmNsYXNzTGlzdC5hZGQoXCJzaGlwLWhlcmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImdyaWQtaXRlbVwiKTtcclxuICAgICAgICAgICAgZ3JpZDEgPT09IG51bGwgfHwgZ3JpZDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdyaWQxLmFwcGVuZENoaWxkKGdyaWRJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNCb2FyZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY0JvYXJkW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgZ3JpZEl0ZW0uc2V0QXR0cmlidXRlKFwiY3Bvc2l0aW9uXCIsIGNCb2FyZFtpXVtqXSk7XHJcbiAgICAgICAgICAgIC8vIGdyaWRJdGVtLnRleHRDb250ZW50ID0gYm9hcmRbaV1bal1cclxuICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImdyaWQtaXRlbVwiKTtcclxuICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImFpLWdyaWRcIik7XHJcbiAgICAgICAgICAgIGdyaWRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGl0XCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibWlzc1wiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGh1bWFuLmdhbWVib2FyZC5pc092ZXIoKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyLmdhbWVib2FyZC5pc092ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihjQm9hcmRbaV1bal0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImhpdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNTdW5rID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXIuZ2FtZWJvYXJkLnJlY2lldmVBdHRhY2soaSwgaik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXIuZ2FtZWJvYXJkLnBsYWNlZFNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXAubmFtZSA9PT0gY0JvYXJkW2ldW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N1bmsgPSBzaGlwLnN1bms7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1bmtlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vua2VuLnRleHRDb250ZW50ID0gY0JvYXJkW2ldW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW5rZW4yID09PSBudWxsIHx8IHN1bmtlbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1bmtlbjIuYXBwZW5kQ2hpbGQoc3Vua2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVyLmdhbWVib2FyZC5pc092ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyLnRleHRDb250ZW50ID0gXCJXaW5uZXI6IFwiICsgcGxheWVyTmFtZSArIFwiIVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvV29uID09PSBudWxsIHx8IHdob1dvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2hvV29uLmFwcGVuZENoaWxkKHdpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9Xb24gPT09IG51bGwgfHwgd2hvV29uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aG9Xb24uYXBwZW5kQ2hpbGQocmVzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBncmlkSXRlbS5jbGFzc0xpc3QuYWRkKFwibWlzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBncmlkSXRlbS50ZXh0Q29udGVudCA9IFwiWFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb21wdXRlci5yYW5kb21BdHRhY2soaHVtYW4pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtocG9zaXRpb249XCIke3Bvc2l0aW9ufVwiXWApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdQb3NpdGlvbiA9IGh1bWFuLmdhbWVib2FyZC5jb252ZXJ0UG9zaXRpb24odGVtcCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm93ID0gaHVtYW4uZ2FtZWJvYXJkLmdldFJvdyhuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sID0gaHVtYW4uZ2FtZWJvYXJkLmdldENvbChuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoaHVtYW4uZ2FtZWJvYXJkLmJvYXJkW3Jvd11bY29sXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2hpcC1oZXJlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzU3VuazEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhpLCBqKTtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VkU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcC5uYW1lID09PSBoQm9hcmRbcm93XVtjb2xdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N1bmsxID0gc2hpcC5zdW5rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3VuazEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Vua2VuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW5rZW4udGV4dENvbnRlbnQgPSBoQm9hcmRbcm93XVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW5rZW4xID09PSBudWxsIHx8IHN1bmtlbjEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1bmtlbjEuYXBwZW5kQ2hpbGQoc3Vua2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC5pc092ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyLnRleHRDb250ZW50ID0gXCJXaW5uZXI6IENvbXB1dGVyIVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvV29uID09PSBudWxsIHx8IHdob1dvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2hvV29uLmFwcGVuZENoaWxkKHdpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9Xb24gPT09IG51bGwgfHwgd2hvV29uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aG9Xb24uYXBwZW5kQ2hpbGQocmVzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uY2xhc3NMaXN0LmFkZChcIm1pc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS50ZXh0Q29udGVudCA9IFwiWFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZ3JpZDIgPT09IG51bGwgfHwgZ3JpZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdyaWQyLmFwcGVuZENoaWxkKGdyaWRJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHBsYWNlU2hpcCBmcm9tIFwiLi9wbGFjZVNoaXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5mb1wiKTtcclxuICAgIGNvbnN0IGlucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC1jb250YWluZXJcIik7XHJcbiAgICBjb25zdCBuYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBuYW1lTGFiZWwuY2xhc3NMaXN0LmFkZChcIm5hbWUtbGFiZWxcIik7XHJcbiAgICBuYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIkVudGVyIE5hbWU6XCI7XHJcbiAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBuYW1lSW5wdXQuY2xhc3NMaXN0LmFkZChcIm5hbWUtaW5wdXRcIik7XHJcbiAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBzdGFydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic3RhcnQtYnV0dG9uXCIpO1xyXG4gICAgc3RhcnRCdXR0b24udGV4dENvbnRlbnQgPSBcIlN0YXJ0XCI7XHJcbiAgICBpbnB1dENvbnRhaW5lci5hcHBlbmRDaGlsZChuYW1lTGFiZWwpO1xyXG4gICAgaW5wdXRDb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZUlucHV0KTtcclxuICAgIGlucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXJ0QnV0dG9uKTtcclxuICAgIGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby5hcHBlbmRDaGlsZChpbnB1dENvbnRhaW5lcik7XHJcbiAgICAvLyBpbmZvPy5hcHBlbmRDaGlsZChzdGFydEJ1dHRvbik7XHJcbiAgICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChuYW1lSW5wdXQudmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLnJlbW92ZUNoaWxkKGlucHV0Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgcGxhY2VTaGlwKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IFwiVG8gbGF6eSB0byBlbnRlciBhIG5hbWVcIjtcclxuICAgICAgICAgICAgaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLnJlbW92ZUNoaWxkKGlucHV0Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgcGxhY2VTaGlwKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiIsImltcG9ydCBzdGFydEdhbWUgZnJvbSBcIi4vdWkvc3RhcnRHYW1lXCI7XHJcbnN0YXJ0R2FtZSgpO1xyXG4vLyByZW5kZXJHcmlkcygnampjcmF6eW1hbicpXHJcbiJdLCJuYW1lcyI6WyJHYW1lQm9hcmQiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJib2FyZCIsImNyZWF0ZUJvYXJkIiwiaGl0cyIsIm1pc3NlcyIsInBsYWNlZFNoaXBzIiwiZ2FtZU92ZXIiLCJzdW5rU2hpcHMiLCJjb3VudCIsImkiLCJqIiwicGxhY2VTaGlwIiwic2hpcCIsInN0YXJ0IiwidmVydGljYWwiLCJ2YWxpZFBsYWNlbWVudCIsImxlbmd0aCIsImluY2x1ZGVzIiwiaW5kZXgiLCJpbmRleE9mIiwibmFtZSIsInB1c2giLCJyZWNpZXZlQXR0YWNrIiwicm93IiwiY29sdW1uIiwicG9zaXRpb24iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJmb3JFYWNoIiwiaGl0IiwiaXNTdW5rIiwiaXNPdmVyIiwiaXNWZXJ0aWNhbCIsIm5ld1Bvc2l0aW9uIiwiY29udmVydFBvc2l0aW9uIiwiZ2V0Um93IiwiZ2V0Q29sIiwicmFuZG9tbHlQbGFjZVNoaXBzIiwiZGlyZWN0aW9uIiwidmFsaWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzdHIiLCJ0b1N0cmluZyIsInBhcnNlSW50Iiwic2xpY2UiLCJQbGF5ZXIiLCJvcG9uZW50IiwiZ2FtZWJvYXJkIiwic2hvdHMiLCJhdHRhY2siLCJjb2wiLCJyYW5kb21BdHRhY2siLCJvcHBvbmVudCIsInZhbGlkU2hvdCIsIlNoaXAiLCJpc0hpdCIsInN1bmsiLCJodW1hbiIsImNvbXB1dGVyIiwiaEJvYXJkIiwiY0JvYXJkIiwiaENhcnJpZXIiLCJoRGVzdHJveWVyIiwiaFN1Ym1hcmluZSIsImhQYXRyb2wiLCJjQ2FycmllciIsImNEZXN0cm95ZXIiLCJjU3VibWFyaW5lIiwiY1BhdHJvbCIsImh1bWFuU2hpcHMiLCJjb21wdXRlclNoaXBzIiwiY2FsbHMiLCJwbGF5ZXJOYW1lIiwiaW5mbyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInBsYWNlIiwiZ3JpZCIsInNoaXBzIiwicm90YXRlQnV0dG9uIiwiY2FycmllciIsImRlc3Ryb3llciIsInN1Ym1hcmluZSIsInBhdHJvbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWlucyIsInN0YXJ0QnV0dG9uIiwiaW5uZXJIVE1MIiwibWFpbiIsImdyaWQxIiwidGV4dENvbnRlbnQiLCJzdW5rZW4xIiwiZ3JpZDIiLCJzdW5rZW4yIiwid2hvV29uIiwicmVzdGFydCIsImNyZWF0ZUVsZW1lbnQiLCJsb2NhdGlvbiIsInJlbG9hZCIsImdyaWRJdGVtIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJzdW5rZW4iLCJ3aW5uZXIiLCJpdGVtIiwidGVtcCIsImlzU3VuazEiLCJyZW5kZXJHcmlkcyIsImNoZWNrQm9hcmQiLCJyYW5kb21seVBsYWNlIiwiZGlzYWJsZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZHJhZ2dhYmxlIiwiZXYiLCJzaGlwRWxlbWVudCIsInRhcmdldCIsImN1cnJlbnRQb3MiLCJkYXRhc2V0IiwiaHBvc2l0aW9uIiwic2hpcE5hbWUiLCJyZW1vdmVDaGlsZCIsInBsYWNlU2hpcERyYWdnZWQiLCJpZCIsImUiLCJpbnB1dENvbnRhaW5lciIsIm5hbWVMYWJlbCIsIm5hbWVJbnB1dCIsInZhbHVlIiwic3RhcnRHYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==