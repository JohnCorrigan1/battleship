(()=>{"use strict";class e{constructor(){this.board=[],this.createBoard(),this.hits=[],this.misses=[],this.placedShips=[],this.gameOver=!1,this.sunkShips=[]}createBoard(){let e=0;for(let t=0;t<10;t++){this.board[t]=[];for(let s=0;s<10;s++)e++,this.board[t][s]=e}}placeShip(e,t,s){if(s&&!0===this.validPlacement(t,e.length,!0)){for(let s=0;s<e.length;s++){for(let s=0;s<this.board.length;s++)if(this.board[s].includes(t)){let i=this.board[s].indexOf(t);this.board[s][i]=e.name}t+=10}this.placedShips.push(e)}else if(!s&&!0===this.validPlacement(t,e.length,!1)){for(let s=0;s<e.length;s++){for(let s=0;s<this.board.length;s++)if(this.board[s].includes(t)){let i=this.board[s].indexOf(t);this.board[s][i]=e.name}t+=1}this.placedShips.push(e)}}recieveAttack(e,t){let s=e+t;Number.isInteger(this.board[e][t])?this.misses.push(s):(this.hits.push(s),this.placedShips.forEach((i=>{if(i.name===this.board[e][t])return i.hit(s),i.isSunk(),void(i.isSunk()&&this.sunkShips.push(i))})))}isOver(){return 4===this.sunkShips.length}validPlacement(e,t,s){let i=this.convertPosition(e),n=this.getRow(i),a=this.getCol(i);if(s&&n+t>10)return!1;if(!s&&a+t>10)return!1;if(s)for(let e=0;e<t;e++){if(!Number.isInteger(this.board[n][a]))return!1;n++}else for(let e=0;e<t;e++){if(!Number.isInteger(this.board[n][a]))return!1;a++}return!0}randomlyPlaceShips(e){let t,s,i=!1;for(;!i;)t=Math.floor(100*Math.random())+1,s=Math.random()<.5,this.validPlacement(t,e.length,s)?(i=!0,this.placeShip(e,t,s)):i=!1}convertPosition(e){let t,s,i=e.toString();return e<11?(t=e-1,s=0):100===e?(s=9,t=9):e%10==0?(s=parseInt(i.slice(0,1)),t=9):(s=parseInt(i.slice(0,1)),t=parseInt(i.slice(1,2))-1),s.toString()+t.toString()}getCol(e){return parseInt(e.slice(1,2))}getRow(e){return parseInt(e.slice(0,1))}}class t{constructor(t,s){this.gameboard=new e,this.name=t,this.shots=[],this.oponent=s}attack(e,t){let s=this.gameboard.convertPosition(e),i=this.gameboard.getRow(s),n=this.gameboard.getCol(s);this.shots.includes(e)||(this.shots.push(e),t.gameboard.recieveAttack(i,n),t.gameboard.isOver())}randomAttack(e){let t,s=!1;for(;!s;){t=Math.floor(100*Math.random())+1;let i=this.gameboard.convertPosition(t),n=this.gameboard.getRow(i),a=this.gameboard.getCol(i);if(!this.shots.includes(t))return this.shots.push(t),e.gameboard.recieveAttack(n,a),s=!0,t}}}class s{constructor(e,t){this.length=e,this.isHit=[],this.sunk=!1,this.name=t}hit(e){if(!this.isHit.includes(e)&&this.isHit.length<this.length)return this.isHit.push(e),this.isHit}isSunk(){return this.isHit.length===this.length&&(this.sunk=!0,!0)}}let i=new t("human","computer"),n=new t("computer","human"),a=i.gameboard.board,r=n.gameboard.board,l=new s(5,"carrier"),o=new s(4,"destroyer"),d=new s(3,"submarine"),c=new s(2,"patrol"),u=new s(5,"carrier"),h=new s(4,"destroyer"),m=new s(3,"submarine"),g=new s(2,"patrol");const p=[l,o,d,c],b=[u,h,m,g];let v=0;function f(e){if(v++,4===[].length)return;let t;const s=document.querySelector(".info");null==s||s.classList.remove("info"),null==s||s.classList.add("hide");const u=document.querySelector(".place");null==u||u.classList.remove("hide");const h=document.querySelector(".grid-container"),m=document.querySelector(".ships"),g=document.querySelector(".rotate"),L=document.querySelector(".carrier"),S=document.querySelector(".destroyer"),C=document.querySelector(".submarine"),y=document.querySelector(".patrol");if(1===v){null==g||g.addEventListener("click",(function(){(null==L?void 0:L.classList.contains("rotated"))?(null==m||m.classList.remove("ships-horizontal"),null==m||m.classList.add("ships-vertical"),L.classList.remove("rotated"),null==S||S.classList.remove("rotated"),null==C||C.classList.remove("rotated"),null==y||y.classList.remove("rotated")):(null==m||m.classList.remove("ships-vertical"),null==m||m.classList.add("ships-horizontal"),null==L||L.classList.add("rotated"),null==S||S.classList.add("rotated"),null==C||C.classList.add("rotated"),null==y||y.classList.add("rotated"))}));const t=document.querySelector(".start-game");null==t||t.addEventListener("click",(function(){u.innerHTML="",function(e){document.querySelector("body"),console.log(a);const t=document.querySelector(".place");null==t||t.classList.add("hide");const s=document.querySelector("#main");s.classList.remove("hide"),s.classList.add("main"),document.querySelector(".content"),document.querySelector(".grid1");const l=document.querySelector(".grid-container1");document.querySelector(".title-1").textContent=e;const o=document.querySelector(".sunken1"),d=(document.querySelector(".grid2"),document.querySelector(".grid-container2"));document.querySelector(".title-2").textContent="Computer";const c=document.querySelector(".sunken2"),u=document.querySelector(".who-won"),h=document.createElement("button");h.classList.add("restart"),h.textContent="Restart",h.addEventListener("click",(function(){location.reload()})),b.forEach((e=>{n.gameboard.randomlyPlaceShips(e)}));let m=0;for(let e=0;e<a.length;e++)for(let t=0;t<a[e].length;t++){m++;const s=document.createElement("div");s.setAttribute("hposition",m),Number.isInteger(a[e][t])||s.classList.add("ship-here"),s.classList.add("grid-item"),null==l||l.appendChild(s)}for(let t=0;t<r.length;t++)for(let s=0;s<r[t].length;s++){const l=document.createElement("div");l.setAttribute("cposition",r[t][s]),l.classList.add("grid-item"),l.classList.add("ai-grid"),l.addEventListener("click",(function(){if(l.classList.contains("hit")||l.classList.contains("miss")||i.gameboard.isOver()||n.gameboard.isOver())return;if(Number.isInteger(r[t][s]))l.classList.add("miss"),l.textContent="X";else{l.classList.add("hit");let i=!1;if(n.gameboard.recieveAttack(t,s),n.gameboard.placedShips.forEach((e=>{e.name===r[t][s]&&(i=e.sunk)})),i){const i=document.createElement("h2");if(i.textContent=r[t][s],null==c||c.appendChild(i),n.gameboard.isOver()){const t=document.createElement("h1");t.textContent="Winner: "+e+"!",null==u||u.appendChild(t),null==u||u.appendChild(h)}}}let d;d=n.randomAttack(i);const m=document.querySelector(`[hposition="${d}"]`);let g=d,p=i.gameboard.convertPosition(g),b=i.gameboard.getRow(p),v=i.gameboard.getCol(p);if(Number.isInteger(i.gameboard.board[b][v]))null==m||m.classList.add("miss"),m.textContent="x";else{null==m||m.classList.remove("ship-here"),null==m||m.classList.add("hit");let e=!1;if(i.gameboard.recieveAttack(t,s),i.gameboard.placedShips.forEach((t=>{t.name===a[b][v]&&(e=t.sunk)})),e){const e=document.createElement("h2");if(e.textContent=a[b][v],null==o||o.appendChild(e),i.gameboard.isOver()){const e=document.createElement("h1");e.textContent="Winner: Computer!",null==u||u.appendChild(e),null==u||u.appendChild(h)}}}})),null==d||d.appendChild(l)}}(e)}))}q();const E=document.querySelector(".randomly-place");function q(){let e=0;h.innerHTML="";for(let t=0;t<a.length;t++)for(let s=0;s<a[t].length;s++){e++;const i=document.createElement("div");i.setAttribute("data-hposition",e),Number.isInteger(a[t][s])||i.classList.add("ship-here"),i.classList.add("grid-item"),null==h||h.appendChild(i)}}null==E||E.addEventListener("click",(function(){p.forEach((e=>{i.gameboard.randomlyPlaceShips(e)})),E.disabled=!0,h.innerHTML="",q()})),document.querySelectorAll(".draggable").forEach((s=>{s.addEventListener("dragstart",(()=>{s.classList.add("dragging")})),s.addEventListener("dragend",(s=>{const n=s.target,a=parseInt(t.dataset.hposition);!function(e,t){if(!1===E.disabled&&(E.disabled=!0),"carrier"===e)if(L.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,5,!1))return void L.classList.remove("dragging");i.gameboard.placeShip(l,t,!1),null==m||m.removeChild(L)}else i.gameboard.validPlacement(t,5,!0)?(i.gameboard.placeShip(l,t,!0),null==m||m.removeChild(L)):L.classList.remove("dragging");if("destroyer"===e)if(S.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,4,!1))return void S.classList.remove("dragging");i.gameboard.placeShip(o,t,!1),null==m||m.removeChild(S)}else i.gameboard.validPlacement(t,4,!0)?(i.gameboard.placeShip(o,t,!0),null==m||m.removeChild(S)):S.classList.remove("dragging");if("submarine"===e)if(C.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,3,!1))return void C.classList.remove("dragging");i.gameboard.placeShip(d,t,!1),null==m||m.removeChild(C)}else i.gameboard.validPlacement(t,3,!0)?(i.gameboard.placeShip(d,t,!0),null==m||m.removeChild(C)):C.classList.remove("dragging");if("patrol"===e)if(y.classList.contains("rotated")){if(!i.gameboard.validPlacement(t,2,!1))return void y.classList.remove("dragging");i.gameboard.placeShip(c,t,!1),null==m||m.removeChild(y)}else i.gameboard.validPlacement(t,2,!0)?(i.gameboard.placeShip(c,t,!0),null==m||m.removeChild(y)):y.classList.remove("dragging")}(n.id,a),f(e)}))})),document.querySelectorAll(".grid-item").forEach((e=>{e.addEventListener("dragover",(e=>{t=e.target}))}))}!function(){const e=document.querySelector(".info"),t=document.createElement("div");t.classList.add("input-container");const s=document.createElement("label");s.textContent="Enter Name:";const i=document.createElement("input");i.classList.add("name-input");const n=document.createElement("button");n.classList.add("start-button"),n.textContent="Start",t.appendChild(s),t.appendChild(i),t.appendChild(n),null==e||e.appendChild(t),n.addEventListener("click",(function(){if(""!==i.value){const s=i.value;null==e||e.removeChild(t),f(s)}else{const s="To lazy to enter a name";null==e||e.removeChild(t),f(s)}}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN6QzZCLEVBQVVuQyxZQUFjLGNBQ3hCLE1BQU1vQyxFQUFZekQsU0FBUzJCLGNBQWMsU0FDekM4QixFQUFVdkQsVUFBVUUsSUFBSSxjQUN4QixNQUFNVyxFQUFjZixTQUFTMkIsY0FBYyxVQUMzQ1osRUFBWWIsVUFBVUUsSUFBSSxnQkFDMUJXLEVBQVlNLFlBQWMsUUFDMUJrQyxFQUFldkIsWUFBWXdCLEdBQzNCRCxFQUFldkIsWUFBWXlCLEdBQzNCRixFQUFldkIsWUFBWWpCLEdBQzNCaEIsU0FBNENBLEVBQUtpQyxZQUFZdUIsR0FDN0R4QyxFQUFZRixpQkFBaUIsU0FBUyxXQUNsQyxHQUF3QixLQUFwQjRDLEVBQVVDLE1BQWMsQ0FDeEIsTUFBTWxILEVBQU9pSCxFQUFVQyxNQUN2QjNELFNBQTRDQSxFQUFLb0QsWUFBWUksR0FDN0R4SCxFQUFVUyxFQUNkLEtBQ0ssQ0FDRCxNQUFNQSxFQUFPLDBCQUNidUQsU0FBNENBLEVBQUtvRCxZQUFZSSxHQUM3RHhILEVBQVVTLEVBQ2QsQ0FDSixHQUNKLENDM0JBbUgsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzL2dhbWVib2FyZC50cyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9wbGF5ZXJzLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzL3NoaXAudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy91aS9wbGFjZVNoaXAudHMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy91aS9yZW5kZXJHYW1lQm9hcmRzLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvdWkvc3RhcnRHYW1lLnRzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHsgU2hpcCB9IGZyb20gJy4vc2hpcCdcclxuZXhwb3J0IGNsYXNzIEdhbWVCb2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmJvYXJkID0gW107XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb2FyZCgpO1xyXG4gICAgICAgIHRoaXMuaGl0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMubWlzc2VzID0gW107XHJcbiAgICAgICAgdGhpcy5wbGFjZWRTaGlwcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN1bmtTaGlwcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQm9hcmQoKSB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFtpXSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2ldW2pdID0gY291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwbGFjZVNoaXAoc2hpcCwgc3RhcnQsIHZlcnRpY2FsKSB7XHJcbiAgICAgICAgaWYgKHZlcnRpY2FsICYmIHRoaXMudmFsaWRQbGFjZW1lbnQoc3RhcnQsIHNoaXAubGVuZ3RoLCB0cnVlKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5ib2FyZC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkW2pdLmluY2x1ZGVzKHN0YXJ0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmJvYXJkW2pdLmluZGV4T2Yoc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2pdW2luZGV4XSA9IHNoaXAubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGFydCArPSAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsYWNlZFNoaXBzLnB1c2goc2hpcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCF2ZXJ0aWNhbCAmJlxyXG4gICAgICAgICAgICB0aGlzLnZhbGlkUGxhY2VtZW50KHN0YXJ0LCBzaGlwLmxlbmd0aCwgZmFsc2UpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmJvYXJkLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm9hcmRbal0uaW5jbHVkZXMoc3RhcnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuYm9hcmRbal0uaW5kZXhPZihzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbal1baW5kZXhdID0gc2hpcC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0YXJ0ICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGFjZWRTaGlwcy5wdXNoKHNoaXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlY2lldmVBdHRhY2socm93LCBjb2x1bW4pIHtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSByb3cgKyBjb2x1bW47XHJcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dKSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpdHMucHVzaChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucGxhY2VkU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoaXAubmFtZSA9PT0gdGhpcy5ib2FyZFtyb3ddW2NvbHVtbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwLmhpdChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpcC5pc1N1bmsoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcC5pc1N1bmsoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1bmtTaGlwcy5wdXNoKHNoaXApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5taXNzZXMucHVzaChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc092ZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3Vua1NoaXBzLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdmFsaWRQbGFjZW1lbnQocG9zaXRpb24sIGxlbmd0aCwgaXNWZXJ0aWNhbCkge1xyXG4gICAgICAgIGxldCBuZXdQb3NpdGlvbiA9IHRoaXMuY29udmVydFBvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgICAgICBsZXQgcm93ID0gdGhpcy5nZXRSb3cobmV3UG9zaXRpb24pO1xyXG4gICAgICAgIGxldCBjb2x1bW4gPSB0aGlzLmdldENvbChuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgaWYgKGlzVmVydGljYWwgJiYgcm93ICsgbGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghaXNWZXJ0aWNhbCAmJiBjb2x1bW4gKyBsZW5ndGggPiAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcih0aGlzLmJvYXJkW3Jvd11bY29sdW1uXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByb3crKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHRoaXMuYm9hcmRbcm93XVtjb2x1bW5dKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbisrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmFuZG9tbHlQbGFjZVNoaXBzKHNoaXApIHtcclxuICAgICAgICBsZXQgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBsZXQgcG9zaXRpb247XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbjtcclxuICAgICAgICB3aGlsZSAoIXZhbGlkKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDE7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMudmFsaWRQbGFjZW1lbnQocG9zaXRpb24sIHNoaXAubGVuZ3RoLCBkaXJlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlU2hpcChzaGlwLCBwb3NpdGlvbiwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIC8vIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnZlcnRQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGxldCBjb2x1bW47XHJcbiAgICAgICAgbGV0IHN0ciA9IHBvc2l0aW9uLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IHJvdztcclxuICAgICAgICBpZiAocG9zaXRpb24gPCAxMSkge1xyXG4gICAgICAgICAgICBjb2x1bW4gPSBwb3NpdGlvbiAtIDE7XHJcbiAgICAgICAgICAgIHJvdyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBvc2l0aW9uID09PSAxMDApIHtcclxuICAgICAgICAgICAgcm93ID0gOTtcclxuICAgICAgICAgICAgY29sdW1uID0gOTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocG9zaXRpb24gJSAxMCA9PT0gMCkge1xyXG4gICAgICAgICAgICByb3cgPSBwYXJzZUludChzdHIuc2xpY2UoMCwgMSkpO1xyXG4gICAgICAgICAgICBjb2x1bW4gPSA5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcm93ID0gcGFyc2VJbnQoc3RyLnNsaWNlKDAsIDEpKTtcclxuICAgICAgICAgICAgY29sdW1uID0gcGFyc2VJbnQoc3RyLnNsaWNlKDEsIDIpKSAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdHJSb3cgPSByb3cudG9TdHJpbmcoKTtcclxuICAgICAgICBsZXQgc3RyQ29sID0gY29sdW1uLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IG5ld1Bvc2l0aW9uID0gc3RyUm93ICsgc3RyQ29sO1xyXG4gICAgICAgIHJldHVybiBuZXdQb3NpdGlvbjtcclxuICAgIH1cclxuICAgIGdldENvbChzdHIpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoc3RyLnNsaWNlKDEsIDIpKTtcclxuICAgIH1cclxuICAgIGdldFJvdyhzdHIpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoc3RyLnNsaWNlKDAsIDEpKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBHYW1lQm9hcmQgfSBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBvcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5nYW1lYm9hcmQgPSBuZXcgR2FtZUJvYXJkKCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnNob3RzID0gW107XHJcbiAgICAgICAgdGhpcy5vcG9uZW50ID0gb3BvbmVudDtcclxuICAgIH1cclxuICAgIGF0dGFjayhwb3NpdGlvbiwgb3BvbmVudCkge1xyXG4gICAgICAgIGxldCBuZXdQb3NpdGlvbiA9IHRoaXMuZ2FtZWJvYXJkLmNvbnZlcnRQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgbGV0IHJvdyA9IHRoaXMuZ2FtZWJvYXJkLmdldFJvdyhuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgbGV0IGNvbCA9IHRoaXMuZ2FtZWJvYXJkLmdldENvbChuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3RzLmluY2x1ZGVzKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3RzLnB1c2gocG9zaXRpb24pO1xyXG4gICAgICAgICAgICBvcG9uZW50LmdhbWVib2FyZC5yZWNpZXZlQXR0YWNrKHJvdywgY29sKTtcclxuICAgICAgICAgICAgaWYgKG9wb25lbnQuZ2FtZWJvYXJkLmlzT3ZlcigpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImdnXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByYW5kb21BdHRhY2sob3Bwb25lbnQpIHtcclxuICAgICAgICBsZXQgdmFsaWRTaG90ID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHBvc2l0aW9uO1xyXG4gICAgICAgIHdoaWxlICghdmFsaWRTaG90KSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSArIDE7XHJcbiAgICAgICAgICAgIGxldCBuZXdQb3NpdGlvbiA9IHRoaXMuZ2FtZWJvYXJkLmNvbnZlcnRQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSB0aGlzLmdhbWVib2FyZC5nZXRSb3cobmV3UG9zaXRpb24pO1xyXG4gICAgICAgICAgICBsZXQgY29sID0gdGhpcy5nYW1lYm9hcmQuZ2V0Q29sKG5ld1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3RzLmluY2x1ZGVzKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG90cy5wdXNoKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG9wcG9uZW50LmdhbWVib2FyZC5yZWNpZXZlQXR0YWNrKHJvdywgY29sKTtcclxuICAgICAgICAgICAgICAgIHZhbGlkU2hvdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgc3RyOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIC8vIHN0ciA9IHJvdy50b1N0cmluZygpICsgY29sLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2hpcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIG5hbWUpIHtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLmlzSGl0ID0gW107XHJcbiAgICAgICAgdGhpcy5zdW5rID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIH1cclxuICAgIGhpdChwb3NpdGlvbikge1xyXG4gICAgICAgIC8vcHVzaCBwb3NpdGlvbiB0byBpc2hpdCBhcnJheVxyXG4gICAgICAgIGlmICghdGhpcy5pc0hpdC5pbmNsdWRlcyhwb3NpdGlvbikgJiYgdGhpcy5pc0hpdC5sZW5ndGggPCB0aGlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSGl0LnB1c2gocG9zaXRpb24pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0hpdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpc1N1bmsoKSB7XHJcbiAgICAgICAgLy9jaGVja3MgZWFjaCBwb3NpdGlvbiBvZiBzaGlwIGZvciBoaXRzIGlmIGFsbCBhcmUgaGl0IGlzIHN1bmtcclxuICAgICAgICBpZiAodGhpcy5pc0hpdC5sZW5ndGggPT09IHRoaXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuayA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHJlbmRlckdyaWRzIGZyb20gXCIuL3JlbmRlckdhbWVCb2FyZHNcIjtcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vLi4vZmFjdG9yaWVzL3BsYXllcnNcIjtcclxuaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuLy4uL2ZhY3Rvcmllcy9zaGlwXCI7XHJcbmxldCBodW1hbiA9IG5ldyBQbGF5ZXIoXCJodW1hblwiLCBcImNvbXB1dGVyXCIpO1xyXG5sZXQgY29tcHV0ZXIgPSBuZXcgUGxheWVyKFwiY29tcHV0ZXJcIiwgXCJodW1hblwiKTtcclxubGV0IGhCb2FyZCA9IGh1bWFuLmdhbWVib2FyZC5ib2FyZDtcclxubGV0IGNCb2FyZCA9IGNvbXB1dGVyLmdhbWVib2FyZC5ib2FyZDtcclxubGV0IGhDYXJyaWVyID0gbmV3IFNoaXAoNSwgXCJjYXJyaWVyXCIpO1xyXG5sZXQgaERlc3Ryb3llciA9IG5ldyBTaGlwKDQsIFwiZGVzdHJveWVyXCIpO1xyXG5sZXQgaFN1Ym1hcmluZSA9IG5ldyBTaGlwKDMsIFwic3VibWFyaW5lXCIpO1xyXG5sZXQgaFBhdHJvbCA9IG5ldyBTaGlwKDIsIFwicGF0cm9sXCIpO1xyXG5sZXQgY0NhcnJpZXIgPSBuZXcgU2hpcCg1LCBcImNhcnJpZXJcIik7XHJcbmxldCBjRGVzdHJveWVyID0gbmV3IFNoaXAoNCwgXCJkZXN0cm95ZXJcIik7XHJcbmxldCBjU3VibWFyaW5lID0gbmV3IFNoaXAoMywgXCJzdWJtYXJpbmVcIik7XHJcbmxldCBjUGF0cm9sID0gbmV3IFNoaXAoMiwgXCJwYXRyb2xcIik7XHJcbmNvbnN0IGh1bWFuU2hpcHMgPSBbaENhcnJpZXIsIGhEZXN0cm95ZXIsIGhTdWJtYXJpbmUsIGhQYXRyb2xdO1xyXG5jb25zdCBjb21wdXRlclNoaXBzID0gW2NDYXJyaWVyLCBjRGVzdHJveWVyLCBjU3VibWFyaW5lLCBjUGF0cm9sXTtcclxubGV0IGNhbGxzID0gMDtcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGxhY2VTaGlwKHBsYXllck5hbWUpIHtcclxuICAgIGNhbGxzKys7XHJcbiAgICBjb25zdCBtYW51YWxseVBsYWNlZFNoaXBzID0gW107XHJcbiAgICBpZiAobWFudWFsbHlQbGFjZWRTaGlwcy5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgcG9zaXRpb247XHJcbiAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvXCIpO1xyXG4gICAgaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLmNsYXNzTGlzdC5yZW1vdmUoXCJpbmZvXCIpO1xyXG4gICAgaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xyXG4gICAgY29uc3QgcGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlXCIpO1xyXG4gICAgcGxhY2UgPT09IG51bGwgfHwgcGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYWNlLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJcIik7XHJcbiAgICBjb25zdCBzaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hpcHNcIik7XHJcbiAgICBjb25zdCByb3RhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJvdGF0ZVwiKTtcclxuICAgIGNvbnN0IGNhcnJpZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcnJpZXJcIik7XHJcbiAgICBjb25zdCBkZXN0cm95ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc3Ryb3llclwiKTtcclxuICAgIGNvbnN0IHN1Ym1hcmluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWFyaW5lXCIpO1xyXG4gICAgY29uc3QgcGF0cm9sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYXRyb2xcIik7XHJcbiAgICBpZiAoY2FsbHMgPT09IDEpIHtcclxuICAgICAgICByb3RhdGVCdXR0b24gPT09IG51bGwgfHwgcm90YXRlQnV0dG9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3RhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNhcnJpZXIgPT09IG51bGwgfHwgY2FycmllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2Fycmllci5jbGFzc0xpc3QuY29udGFpbnMoXCJyb3RhdGVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMuY2xhc3NMaXN0LnJlbW92ZShcInNoaXBzLWhvcml6b250YWxcIik7XHJcbiAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMuY2xhc3NMaXN0LmFkZChcInNoaXBzLXZlcnRpY2FsXCIpO1xyXG4gICAgICAgICAgICAgICAgY2Fycmllci5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlZFwiKTtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3llciA9PT0gbnVsbCB8fCBkZXN0cm95ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlc3Ryb3llci5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlZFwiKTtcclxuICAgICAgICAgICAgICAgIHN1Ym1hcmluZSA9PT0gbnVsbCB8fCBzdWJtYXJpbmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1Ym1hcmluZS5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlZFwiKTtcclxuICAgICAgICAgICAgICAgIHBhdHJvbCA9PT0gbnVsbCB8fCBwYXRyb2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhdHJvbC5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNoaXBzID09PSBudWxsIHx8IHNoaXBzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGlwcy5jbGFzc0xpc3QucmVtb3ZlKFwic2hpcHMtdmVydGljYWxcIik7XHJcbiAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMuY2xhc3NMaXN0LmFkZChcInNoaXBzLWhvcml6b250YWxcIik7XHJcbiAgICAgICAgICAgICAgICBjYXJyaWVyID09PSBudWxsIHx8IGNhcnJpZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcnJpZXIuY2xhc3NMaXN0LmFkZChcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95ZXIgPT09IG51bGwgfHwgZGVzdHJveWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZXN0cm95ZXIuY2xhc3NMaXN0LmFkZChcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBzdWJtYXJpbmUgPT09IG51bGwgfHwgc3VibWFyaW5lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdWJtYXJpbmUuY2xhc3NMaXN0LmFkZChcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBwYXRyb2wgPT09IG51bGwgfHwgcGF0cm9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXRyb2wuY2xhc3NMaXN0LmFkZChcInJvdGF0ZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnQtZ2FtZVwiKTtcclxuICAgICAgICBzdGFydEJ1dHRvbiA9PT0gbnVsbCB8fCBzdGFydEJ1dHRvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxhY2UuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIHJlbmRlckdyaWRzKHBsYXllck5hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2hlY2tCb2FyZCgpO1xyXG4gICAgY29uc3QgcmFuZG9tbHlQbGFjZSA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhbmRvbWx5LXBsYWNlXCIpKTtcclxuICAgIHJhbmRvbWx5UGxhY2UgPT09IG51bGwgfHwgcmFuZG9tbHlQbGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmFuZG9tbHlQbGFjZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGh1bWFuU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xyXG4gICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucmFuZG9tbHlQbGFjZVNoaXBzKHNoaXApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJhbmRvbWx5UGxhY2UuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGdyaWQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICBjaGVja0JvYXJkKCk7XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIGNoZWNrQm9hcmQoKSB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBncmlkLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaEJvYXJkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaEJvYXJkW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZEl0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1ocG9zaXRpb25cIiwgY291bnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGhCb2FyZFtpXVtqXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBncmlkSXRlbS5jbGFzc0xpc3QuYWRkKFwic2hpcC1oZXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImdyaWQtaXRlbVwiKTtcclxuICAgICAgICAgICAgICAgIGdyaWQgPT09IG51bGwgfHwgZ3JpZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ3JpZC5hcHBlbmRDaGlsZChncmlkSXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBldmVudHMoKTtcclxuICAgIGZ1bmN0aW9uIGV2ZW50cygpIHtcclxuICAgICAgICBjb25zdCBkcmFnZ2FibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kcmFnZ2FibGVcIik7XHJcbiAgICAgICAgZHJhZ2dhYmxlcy5mb3JFYWNoKChkcmFnZ2FibGUpID0+IHtcclxuICAgICAgICAgICAgZHJhZ2dhYmxlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5hZGQoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGlwRWxlbWVudCA9IGV2LnRhcmdldDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSBwYXJzZUludChwb3NpdGlvbi5kYXRhc2V0Lmhwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGlwTmFtZSA9IHNoaXBFbGVtZW50LmlkO1xyXG4gICAgICAgICAgICAgICAgcGxhY2VTaGlwRHJhZ2dlZChzaGlwTmFtZSwgY3VycmVudFBvcyk7XHJcbiAgICAgICAgICAgICAgICBwbGFjZVNoaXAocGxheWVyTmFtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGdyaWRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ncmlkLWl0ZW1cIik7XHJcbiAgICAgICAgZ3JpZEl0ZW0uZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gZnVuY3Rpb24gaXNWYWxpZChwb3NpdGlvbjogbnVtYmVyLCBuYW1lOiBzdHJpbmcpe1xyXG4gICAgLy8gICBsZXQgZGlyZWN0aW9uID0gZmFsc2U7XHJcbiAgICAvLyAgIGlmKGNhcnJpZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSl7XHJcbiAgICAvLyAgICAgZGlyZWN0aW9uID0gdHJ1ZTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gICBpZihuYW1lID09PSBcImNhcnJpZXJcIil7XHJcbiAgICAvLyAgICAgaHVtYW4uZ2FtZWJvYXJkLnZhbGlkUGxhY2VtZW50KHBvc2l0aW9uLCA1LCBkaXJlY3Rpb24pXHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICAgIGZ1bmN0aW9uIHBsYWNlU2hpcERyYWdnZWQoc2hpcE5hbWUsIGN1cnJlbnRQb3MpIHtcclxuICAgICAgICBpZiAocmFuZG9tbHlQbGFjZS5kaXNhYmxlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmFuZG9tbHlQbGFjZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGlwTmFtZSA9PT0gXCJjYXJyaWVyXCIpIHtcclxuICAgICAgICAgICAgaWYgKGNhcnJpZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCA1LCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhDYXJyaWVyLCBjdXJyZW50UG9zLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpcHMgPT09IG51bGwgfHwgc2hpcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoaXBzLnJlbW92ZUNoaWxkKGNhcnJpZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Fycmllci5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgNSwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhDYXJyaWVyLCBjdXJyZW50UG9zLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQoY2Fycmllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJyaWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcImRlc3Ryb3llclwiKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXN0cm95ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCA0LCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhEZXN0cm95ZXIsIGN1cnJlbnRQb3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQoZGVzdHJveWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3llci5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgNCwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhEZXN0cm95ZXIsIGN1cnJlbnRQb3MsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXBzID09PSBudWxsIHx8IHNoaXBzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGlwcy5yZW1vdmVDaGlsZChkZXN0cm95ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveWVyLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcInN1Ym1hcmluZVwiKSB7XHJcbiAgICAgICAgICAgIGlmIChzdWJtYXJpbmUuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCAzLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhTdWJtYXJpbmUsIGN1cnJlbnRQb3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQoc3VibWFyaW5lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1hcmluZS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgMywgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhTdWJtYXJpbmUsIGN1cnJlbnRQb3MsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXBzID09PSBudWxsIHx8IHNoaXBzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGlwcy5yZW1vdmVDaGlsZChzdWJtYXJpbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWFyaW5lLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoaXBOYW1lID09PSBcInBhdHJvbFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXRyb2wuY2xhc3NMaXN0LmNvbnRhaW5zKFwicm90YXRlZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC52YWxpZFBsYWNlbWVudChjdXJyZW50UG9zLCAyLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhQYXRyb2wsIGN1cnJlbnRQb3MsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwcyA9PT0gbnVsbCB8fCBzaGlwcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hpcHMucmVtb3ZlQ2hpbGQocGF0cm9sKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdHJvbC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChodW1hbi5nYW1lYm9hcmQudmFsaWRQbGFjZW1lbnQoY3VycmVudFBvcywgMiwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VTaGlwKGhQYXRyb2wsIGN1cnJlbnRQb3MsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXBzID09PSBudWxsIHx8IHNoaXBzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGlwcy5yZW1vdmVDaGlsZChwYXRyb2wpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0cm9sLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgaHVtYW5TaGlwcywgY29tcHV0ZXJTaGlwcywgaHVtYW4sIGNvbXB1dGVyLCBoQm9hcmQsIGNCb2FyZCB9O1xyXG4iLCJpbXBvcnQgeyBjb21wdXRlclNoaXBzLCBodW1hbiwgY29tcHV0ZXIsIGhCb2FyZCwgY0JvYXJkIH0gZnJvbSBcIi4uL3VpL3BsYWNlU2hpcFwiO1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJHcmlkcyhwbGF5ZXJOYW1lKSB7XHJcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XHJcbiAgICBjb25zb2xlLmxvZyhoQm9hcmQpO1xyXG4gICAgLy8gY29uc3QgaW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5mb1wiKTtcclxuICAgIC8vIGluZm8/LmNsYXNzTGlzdC5yZW1vdmUoXCJpbmZvXCIpO1xyXG4gICAgLy8gaW5mbz8uY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XHJcbiAgICBjb25zdCBwbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZScpO1xyXG4gICAgcGxhY2UgPT09IG51bGwgfHwgcGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYWNlLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW5cIik7XHJcbiAgICBtYWluLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xyXG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKFwibWFpblwiKTtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIik7XHJcbiAgICBjb25zdCBncmlkQ29udGFpbmVyMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZDFcIik7XHJcbiAgICBjb25zdCBncmlkMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXIxXCIpO1xyXG4gICAgY29uc3QgdGl0bGUxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aXRsZS0xXCIpO1xyXG4gICAgdGl0bGUxLnRleHRDb250ZW50ID0gcGxheWVyTmFtZTtcclxuICAgIGNvbnN0IHN1bmtlbjEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1bmtlbjFcIik7XHJcbiAgICBjb25zdCBncmlkQ29udGFpbmVyMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZDJcIik7XHJcbiAgICBjb25zdCBncmlkMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXIyXCIpO1xyXG4gICAgY29uc3QgdGl0bGUyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aXRsZS0yXCIpO1xyXG4gICAgdGl0bGUyLnRleHRDb250ZW50ID0gXCJDb21wdXRlclwiO1xyXG4gICAgY29uc3Qgc3Vua2VuMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3Vua2VuMlwiKTtcclxuICAgIGNvbnN0IHdob1dvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2hvLXdvblwiKTtcclxuICAgIGNvbnN0IHJlc3RhcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgcmVzdGFydC5jbGFzc0xpc3QuYWRkKFwicmVzdGFydFwiKTtcclxuICAgIHJlc3RhcnQudGV4dENvbnRlbnQgPSBcIlJlc3RhcnRcIjtcclxuICAgIHJlc3RhcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgIH0pO1xyXG4gICAgLy8gbGV0IGh1bWFuID0gbmV3IFBsYXllcihcImh1bWFuXCIsIFwiY29tcHV0ZXJcIik7XHJcbiAgICAvLyBsZXQgY29tcHV0ZXIgPSBuZXcgUGxheWVyKFwiY29tcHV0ZXJcIiwgXCJodW1hblwiKTtcclxuICAgIC8vIGxldCBoQm9hcmQgPSBodW1hbi5nYW1lYm9hcmQuYm9hcmQ7XHJcbiAgICAvLyBsZXQgY0JvYXJkID0gY29tcHV0ZXIuZ2FtZWJvYXJkLmJvYXJkO1xyXG4gICAgLy8gbGV0IGhDYXJyaWVyID0gbmV3IFNoaXAoNSwgXCJjYXJyaWVyXCIpO1xyXG4gICAgLy8gbGV0IGhEZXN0cm95ZXIgPSBuZXcgU2hpcCg0LCBcImRlc3Ryb3llclwiKTtcclxuICAgIC8vIGxldCBoU3VibWFyaW5lID0gbmV3IFNoaXAoMywgXCJzdWJtYXJpbmVcIik7XHJcbiAgICAvLyBsZXQgaFBhdHJvbCA9IG5ldyBTaGlwKDIsIFwicGF0cm9sXCIpO1xyXG4gICAgLy8gbGV0IGNDYXJyaWVyID0gbmV3IFNoaXAoNSwgXCJjYXJyaWVyXCIpO1xyXG4gICAgLy8gbGV0IGNEZXN0cm95ZXIgPSBuZXcgU2hpcCg0LCBcImRlc3Ryb3llclwiKTtcclxuICAgIC8vIGxldCBjU3VibWFyaW5lID0gbmV3IFNoaXAoMywgXCJzdWJtYXJpbmVcIik7XHJcbiAgICAvLyBsZXQgY1BhdHJvbCA9IG5ldyBTaGlwKDIsIFwicGF0cm9sXCIpO1xyXG4gICAgLy8gY29uc3QgaHVtYW5TaGlwcyA9IFtoQ2FycmllciwgaERlc3Ryb3llciwgaFN1Ym1hcmluZSwgaFBhdHJvbF07XHJcbiAgICAvLyBjb25zdCBjb21wdXRlclNoaXBzID0gW2NDYXJyaWVyLCBjRGVzdHJveWVyLCBjU3VibWFyaW5lLCBjUGF0cm9sXTtcclxuICAgIC8vIGFsbFNoaXBzLmZvckVhY2goc2hpcCA9PiB7XHJcbiAgICAvLyAgICAgY29tcHV0ZXIuZ2FtZWJvYXJkLnJhbmRvbWx5UGxhY2VTaGlwcyhzaGlwKTtcclxuICAgIC8vICAgICBodW1hbi5nYW1lYm9hcmQucmFuZG9tbHlQbGFjZVNoaXBzKHNoaXApO1xyXG4gICAgLy8gfSlcclxuICAgIGNvbXB1dGVyU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xyXG4gICAgICAgIGNvbXB1dGVyLmdhbWVib2FyZC5yYW5kb21seVBsYWNlU2hpcHMoc2hpcCk7XHJcbiAgICB9KTtcclxuICAgIC8vIGh1bWFuU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xyXG4gICAgLy8gICBodW1hbi5nYW1lYm9hcmQucmFuZG9tbHlQbGFjZVNoaXBzKHNoaXApO1xyXG4gICAgLy8gfSk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoQm9hcmQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhCb2FyZFtpXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICBjb25zdCBncmlkSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGdyaWRJdGVtLnNldEF0dHJpYnV0ZShcImhwb3NpdGlvblwiLCBjb3VudCk7XHJcbiAgICAgICAgICAgIC8vIGdyaWRJdGVtLnRleHRDb250ZW50ID0gYm9hcmRbaV1bal1cclxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGhCb2FyZFtpXVtqXSkpIHtcclxuICAgICAgICAgICAgICAgIGdyaWRJdGVtLmNsYXNzTGlzdC5hZGQoXCJzaGlwLWhlcmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImdyaWQtaXRlbVwiKTtcclxuICAgICAgICAgICAgZ3JpZDEgPT09IG51bGwgfHwgZ3JpZDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdyaWQxLmFwcGVuZENoaWxkKGdyaWRJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNCb2FyZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY0JvYXJkW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgZ3JpZEl0ZW0uc2V0QXR0cmlidXRlKFwiY3Bvc2l0aW9uXCIsIGNCb2FyZFtpXVtqXSk7XHJcbiAgICAgICAgICAgIC8vIGdyaWRJdGVtLnRleHRDb250ZW50ID0gYm9hcmRbaV1bal1cclxuICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImdyaWQtaXRlbVwiKTtcclxuICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImFpLWdyaWRcIik7XHJcbiAgICAgICAgICAgIGdyaWRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGl0XCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibWlzc1wiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGh1bWFuLmdhbWVib2FyZC5pc092ZXIoKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyLmdhbWVib2FyZC5pc092ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihjQm9hcmRbaV1bal0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZEl0ZW0uY2xhc3NMaXN0LmFkZChcImhpdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNTdW5rID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXIuZ2FtZWJvYXJkLnJlY2lldmVBdHRhY2soaSwgaik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXIuZ2FtZWJvYXJkLnBsYWNlZFNoaXBzLmZvckVhY2goKHNoaXApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXAubmFtZSA9PT0gY0JvYXJkW2ldW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N1bmsgPSBzaGlwLnN1bms7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1bmtlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vua2VuLnRleHRDb250ZW50ID0gY0JvYXJkW2ldW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW5rZW4yID09PSBudWxsIHx8IHN1bmtlbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1bmtlbjIuYXBwZW5kQ2hpbGQoc3Vua2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXB1dGVyLmdhbWVib2FyZC5pc092ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyLnRleHRDb250ZW50ID0gXCJXaW5uZXI6IFwiICsgcGxheWVyTmFtZSArIFwiIVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvV29uID09PSBudWxsIHx8IHdob1dvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2hvV29uLmFwcGVuZENoaWxkKHdpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9Xb24gPT09IG51bGwgfHwgd2hvV29uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aG9Xb24uYXBwZW5kQ2hpbGQocmVzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBncmlkSXRlbS5jbGFzc0xpc3QuYWRkKFwibWlzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBncmlkSXRlbS50ZXh0Q29udGVudCA9IFwiWFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb21wdXRlci5yYW5kb21BdHRhY2soaHVtYW4pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtocG9zaXRpb249XCIke3Bvc2l0aW9ufVwiXWApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdQb3NpdGlvbiA9IGh1bWFuLmdhbWVib2FyZC5jb252ZXJ0UG9zaXRpb24odGVtcCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm93ID0gaHVtYW4uZ2FtZWJvYXJkLmdldFJvdyhuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sID0gaHVtYW4uZ2FtZWJvYXJkLmdldENvbChuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoaHVtYW4uZ2FtZWJvYXJkLmJvYXJkW3Jvd11bY29sXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2hpcC1oZXJlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzU3VuazEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhpLCBqKTtcclxuICAgICAgICAgICAgICAgICAgICBodW1hbi5nYW1lYm9hcmQucGxhY2VkU2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcC5uYW1lID09PSBoQm9hcmRbcm93XVtjb2xdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N1bmsxID0gc2hpcC5zdW5rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3VuazEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Vua2VuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW5rZW4udGV4dENvbnRlbnQgPSBoQm9hcmRbcm93XVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdW5rZW4xID09PSBudWxsIHx8IHN1bmtlbjEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN1bmtlbjEuYXBwZW5kQ2hpbGQoc3Vua2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh1bWFuLmdhbWVib2FyZC5pc092ZXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lubmVyLnRleHRDb250ZW50ID0gXCJXaW5uZXI6IENvbXB1dGVyIVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvV29uID09PSBudWxsIHx8IHdob1dvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2hvV29uLmFwcGVuZENoaWxkKHdpbm5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9Xb24gPT09IG51bGwgfHwgd2hvV29uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aG9Xb24uYXBwZW5kQ2hpbGQocmVzdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uY2xhc3NMaXN0LmFkZChcIm1pc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS50ZXh0Q29udGVudCA9IFwieFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZ3JpZDIgPT09IG51bGwgfHwgZ3JpZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdyaWQyLmFwcGVuZENoaWxkKGdyaWRJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHBsYWNlU2hpcCBmcm9tIFwiLi9wbGFjZVNoaXBcIjtcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5mb1wiKTtcclxuICAgIGNvbnN0IGlucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC1jb250YWluZXJcIik7XHJcbiAgICBjb25zdCBuYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBuYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIkVudGVyIE5hbWU6XCI7XHJcbiAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBuYW1lSW5wdXQuY2xhc3NMaXN0LmFkZChcIm5hbWUtaW5wdXRcIik7XHJcbiAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBzdGFydEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic3RhcnQtYnV0dG9uXCIpO1xyXG4gICAgc3RhcnRCdXR0b24udGV4dENvbnRlbnQgPSBcIlN0YXJ0XCI7XHJcbiAgICBpbnB1dENvbnRhaW5lci5hcHBlbmRDaGlsZChuYW1lTGFiZWwpO1xyXG4gICAgaW5wdXRDb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZUlucHV0KTtcclxuICAgIGlucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXJ0QnV0dG9uKTtcclxuICAgIGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby5hcHBlbmRDaGlsZChpbnB1dENvbnRhaW5lcik7XHJcbiAgICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChuYW1lSW5wdXQudmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLnJlbW92ZUNoaWxkKGlucHV0Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgcGxhY2VTaGlwKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IFwiVG8gbGF6eSB0byBlbnRlciBhIG5hbWVcIjtcclxuICAgICAgICAgICAgaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLnJlbW92ZUNoaWxkKGlucHV0Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgcGxhY2VTaGlwKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiIsImltcG9ydCBzdGFydEdhbWUgZnJvbSBcIi4vdWkvc3RhcnRHYW1lXCI7XHJcbnN0YXJ0R2FtZSgpO1xyXG4vLyByZW5kZXJHcmlkcygnampjcmF6eW1hbicpXHJcbiJdLCJuYW1lcyI6WyJHYW1lQm9hcmQiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJib2FyZCIsImNyZWF0ZUJvYXJkIiwiaGl0cyIsIm1pc3NlcyIsInBsYWNlZFNoaXBzIiwiZ2FtZU92ZXIiLCJzdW5rU2hpcHMiLCJjb3VudCIsImkiLCJqIiwicGxhY2VTaGlwIiwic2hpcCIsInN0YXJ0IiwidmVydGljYWwiLCJ2YWxpZFBsYWNlbWVudCIsImxlbmd0aCIsImluY2x1ZGVzIiwiaW5kZXgiLCJpbmRleE9mIiwibmFtZSIsInB1c2giLCJyZWNpZXZlQXR0YWNrIiwicm93IiwiY29sdW1uIiwicG9zaXRpb24iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJmb3JFYWNoIiwiaGl0IiwiaXNTdW5rIiwiaXNPdmVyIiwiaXNWZXJ0aWNhbCIsIm5ld1Bvc2l0aW9uIiwiY29udmVydFBvc2l0aW9uIiwiZ2V0Um93IiwiZ2V0Q29sIiwicmFuZG9tbHlQbGFjZVNoaXBzIiwiZGlyZWN0aW9uIiwidmFsaWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzdHIiLCJ0b1N0cmluZyIsInBhcnNlSW50Iiwic2xpY2UiLCJQbGF5ZXIiLCJvcG9uZW50IiwiZ2FtZWJvYXJkIiwic2hvdHMiLCJhdHRhY2siLCJjb2wiLCJyYW5kb21BdHRhY2siLCJvcHBvbmVudCIsInZhbGlkU2hvdCIsIlNoaXAiLCJpc0hpdCIsInN1bmsiLCJodW1hbiIsImNvbXB1dGVyIiwiaEJvYXJkIiwiY0JvYXJkIiwiaENhcnJpZXIiLCJoRGVzdHJveWVyIiwiaFN1Ym1hcmluZSIsImhQYXRyb2wiLCJjQ2FycmllciIsImNEZXN0cm95ZXIiLCJjU3VibWFyaW5lIiwiY1BhdHJvbCIsImh1bWFuU2hpcHMiLCJjb21wdXRlclNoaXBzIiwiY2FsbHMiLCJwbGF5ZXJOYW1lIiwiaW5mbyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInBsYWNlIiwiZ3JpZCIsInNoaXBzIiwicm90YXRlQnV0dG9uIiwiY2FycmllciIsImRlc3Ryb3llciIsInN1Ym1hcmluZSIsInBhdHJvbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWlucyIsInN0YXJ0QnV0dG9uIiwiaW5uZXJIVE1MIiwiY29uc29sZSIsImxvZyIsIm1haW4iLCJncmlkMSIsInRleHRDb250ZW50Iiwic3Vua2VuMSIsImdyaWQyIiwic3Vua2VuMiIsIndob1dvbiIsInJlc3RhcnQiLCJjcmVhdGVFbGVtZW50IiwibG9jYXRpb24iLCJyZWxvYWQiLCJncmlkSXRlbSIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwic3Vua2VuIiwid2lubmVyIiwiaXRlbSIsInRlbXAiLCJpc1N1bmsxIiwicmVuZGVyR3JpZHMiLCJjaGVja0JvYXJkIiwicmFuZG9tbHlQbGFjZSIsImRpc2FibGVkIiwicXVlcnlTZWxlY3RvckFsbCIsImRyYWdnYWJsZSIsImV2Iiwic2hpcEVsZW1lbnQiLCJ0YXJnZXQiLCJjdXJyZW50UG9zIiwiZGF0YXNldCIsImhwb3NpdGlvbiIsInNoaXBOYW1lIiwicmVtb3ZlQ2hpbGQiLCJwbGFjZVNoaXBEcmFnZ2VkIiwiaWQiLCJlIiwiaW5wdXRDb250YWluZXIiLCJuYW1lTGFiZWwiLCJuYW1lSW5wdXQiLCJ2YWx1ZSIsInN0YXJ0R2FtZSJdLCJzb3VyY2VSb290IjoiIn0=